<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Algebraic Composition for Streaming Data Reduction: A Type-Safe Framework with Numerical Stability</title>
<!--Generated on Tue Oct  7 11:52:36 2025 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->

<link rel="stylesheet" href="LaTeXML.css" type="text/css">
<link rel="stylesheet" href="ltx-article.css" type="text/css">
<link rel="stylesheet" href="ltx-amsart.css" type="text/css">
<link rel="stylesheet" href="ltx-listings.css" type="text/css">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>

/* Container for component positioning */
.tex2any-content-wrapper {
    position: relative;
    min-height: 100vh;
}

</style>
<meta name="tex2any-footer-config" content='{"author_name": "Alex Towell", "author_email": "lex@metafunctor.com", "copyright_year": "2025", "license": "CC BY 4.0", "custom_text": ""}'>
<style>
/* Theme: academic */
/* Academic Theme - Beautiful, minimalistic, excellent readability */

:root {
    /* Typography */
    --font-body: 'Charter', 'Bitstream Charter', 'Georgia', 'Times New Roman', serif;
    --font-headings: system-ui, -apple-system, 'Segoe UI', sans-serif;
    --font-mono: 'Menlo', 'Monaco', 'Courier New', monospace;

    /* Colors - Sophisticated academic palette */
    --color-text: #2d2d2d;
    --color-bg: #ffffff;
    --color-accent: #1a5490;
    --color-accent-light: #2e6ba8;
    --color-muted: #5a5a5a;
    --color-border: #d0d0d0;
    --color-surface: #f9f9f9;
    --color-surface-alt: #f4f4f4;

    /* Layout */
    --max-width: 50rem;  /* ~800px, better for modern screens */
    --max-width-wide: 75rem;
    --spacing-unit: 2rem;
    --content-padding: 3rem;

    /* Responsive font sizes */
    --font-size-base: 1.125rem;  /* 18px */
    --line-height-base: 1.75;

    /* Component colors (for theme integration) */
    --link-color: var(--color-accent);
    --link-hover-color: var(--color-accent-light);
    --toc-bg: var(--color-surface);
    --toc-border: var(--color-border);
    --header-bg: var(--color-bg);
    --header-border: var(--color-border);
    --footer-bg: var(--color-surface);
    --footer-border: var(--color-border);
}

* {
    box-sizing: border-box;
}

/* Base typography */
body {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: var(--content-padding) var(--spacing-unit);
    line-height: var(--line-height-base);
    font-family: var(--font-body);
    font-size: var(--font-size-base);
    color: var(--color-text);
    background: var(--color-bg);
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-headings);
    line-height: 1.25;
    font-weight: 600;
    letter-spacing: -0.02em;
    margin-top: 3rem;
    margin-bottom: 1.25rem;
    color: var(--color-text);
}

h1 {
    font-size: 2.5rem;
    margin-top: 0;
    font-weight: 700;
}

h2 {
    font-size: 1.875rem;
    margin-top: 3.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid var(--color-border);
}

h3 {
    font-size: 1.5rem;
    margin-top: 2.5rem;
}

h4 {
    font-size: 1.25rem;
    font-weight: 600;
}

h5, h6 {
    font-size: 1.125rem;
    font-weight: 600;
}

/* Links */
a {
    color: var(--color-accent);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: all 0.15s ease;
}

a:hover {
    color: var(--color-accent-light);
    border-bottom-color: currentColor;
}

/* Paragraphs */
p {
    margin: 1.25rem 0;
    hyphens: auto;
    -webkit-hyphens: auto;
}

/* First paragraph after heading - no top margin */
h1 + p, h2 + p, h3 + p, h4 + p {
    margin-top: 0.75rem;
}

/* Lists */
ul, ol {
    margin: 1rem 0;
    padding-left: 2rem;
}

li {
    margin: 0.5rem 0;
}

/* LaTeXML Document Structure */
.ltx_document {
    margin: 0;
}

.ltx_title {
    font-family: var(--font-headings);
    font-size: 3rem;
    font-weight: 700;
    line-height: 1.15;
    margin-bottom: 1.5rem;
    margin-top: 2rem;
    letter-spacing: -0.03em;
    color: var(--color-text);
}

.ltx_authors {
    font-size: 1.25rem;
    margin-bottom: 0.75rem;
    color: var(--color-muted);
    font-weight: 400;
}

.ltx_author {
    display: inline-block;
}

.ltx_author:not(:last-child)::after {
    content: ', ';
}

.ltx_date {
    font-size: 1.0625rem;
    color: var(--color-muted);
    margin-bottom: 3rem;
    font-style: italic;
}

/* Abstract */
.ltx_abstract {
    margin: 3rem 0;
    padding: 2rem 2.5rem;
    background: var(--color-surface);
    border-left: 4px solid var(--color-accent);
    border-radius: 4px;
    font-size: 1.0625rem;
    line-height: 1.7;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.ltx_abstract .ltx_title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 1.25rem;
    margin-top: 0;
    color: var(--color-text);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-size: 0.95rem;
}

/* Sections */
.ltx_section {
    margin-top: 3rem;
}

/* Equations */
.ltx_equation {
    margin: 2rem 0;
    overflow-x: auto;
    padding: 1rem 0;
}

.ltx_eqn_number {
    float: right;
    font-family: var(--font-mono);
    font-size: 0.9rem;
    color: var(--color-muted);
}

.ltx_Math {
    font-size: 1.05em;
}

/* Theorems, Definitions, Proofs */
.ltx_theorem, .ltx_proof, .ltx_definition, .ltx_lemma, .ltx_corollary {
    margin: 2rem 0;
    padding: 1.5rem;
    background: var(--color-surface);
    border-left: 3px solid var(--color-accent);
    border-radius: 2px;
}

.ltx_theorem .ltx_title,
.ltx_proof .ltx_title,
.ltx_definition .ltx_title,
.ltx_lemma .ltx_title,
.ltx_corollary .ltx_title {
    font-family: var(--font-headings);
    font-size: 1rem;
    font-weight: 600;
    font-style: italic;
    color: var(--color-accent);
    margin-bottom: 0.75rem;
}

.ltx_proof {
    border-left-color: var(--color-muted);
}

.ltx_proof .ltx_title {
    color: var(--color-muted);
}

/* Figures and Images */
figure, .ltx_figure {
    margin: 2.5rem 0;
    text-align: center;
}

figcaption, .ltx_caption {
    margin-top: 0.75rem;
    font-size: 0.95rem;
    font-style: italic;
    color: var(--color-muted);
    text-align: center;
}

img {
    max-width: 100%;
    height: auto;
    border-radius: 2px;
}

/* Tables */
.ltx_table {
    margin: 2.5rem 0;
    overflow-x: auto;
}

table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
}

th, td {
    padding: 0.75rem 1rem;
    text-align: left;
    border-bottom: 1px solid var(--color-border);
}

th {
    font-weight: 600;
    background: var(--color-surface);
    border-bottom: 2px solid var(--color-accent);
}

tbody tr:hover {
    background: var(--color-surface-alt);
}

/* Code */
code, .ltx_verbatim {
    font-family: var(--font-mono);
    font-size: 0.875em;
    background: var(--color-surface);
    padding: 0.2em 0.4em;
    border-radius: 3px;
    border: 1px solid var(--color-border);
}

pre, .ltx_lstlisting {
    font-family: var(--font-mono);
    font-size: 0.875em;
    background: var(--color-surface);
    padding: 1.25rem;
    border-radius: 4px;
    border: 1px solid var(--color-border);
    overflow-x: auto;
    line-height: 1.5;
    margin: 1.5rem 0;
}

pre code {
    background: none;
    border: none;
    padding: 0;
}

/* Bibliography */
.ltx_bibliography {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 2px solid var(--color-border);
}

.ltx_bibliography .ltx_title {
    font-size: 1.75rem;
    margin-bottom: 1.5rem;
}

.ltx_bibitem {
    margin-bottom: 1rem;
    padding-left: 2rem;
    text-indent: -2rem;
}

.ltx_bib_author {
    font-weight: 600;
}

.ltx_bib_title {
    font-style: italic;
}

/* Footnotes */
.ltx_note {
    font-size: 0.9rem;
    margin-top: 3rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--color-border);
}

/* References and citations */
.ltx_ref {
    color: var(--color-accent);
    font-weight: 500;
}

.ltx_cite {
    color: var(--color-accent);
}

/* Table of Contents */
.ltx_TOC {
    margin: 2.5rem 0;
    padding: 1.75rem;
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 4px;
}

.ltx_TOC .ltx_title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 1rem;
}

.ltx_TOC ul {
    list-style: none;
    padding-left: 0;
}

.ltx_TOC li {
    margin: 0.5rem 0;
}

.ltx_TOC li li {
    padding-left: 1.5rem;
    margin: 0.3rem 0;
}

.ltx_TOC a {
    color: var(--color-accent);
}

/* Print styles */
@media print {
    body {
        font-size: 11pt;
        line-height: 1.5;
    }

    a {
        color: var(--color-text);
        text-decoration: none;
        border-bottom: none;
    }

    h2, h3 {
        page-break-after: avoid;
    }

    figure, .ltx_figure, .ltx_table {
        page-break-inside: avoid;
    }
}

/* Add subtle page background for better visual separation */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, #fafafa 0%, #ffffff 100%);
    z-index: -1;
    pointer-events: none;
}

/* Dark mode gradient background */
body[data-theme="dark"]::before {
    background: linear-gradient(to bottom, #1a1a1a 0%, #0d0d0d 100%);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    :root {
        --font-size-base: 1rem;
        --spacing-unit: 1rem;
        --content-padding: 1.5rem;
    }

    body {
        padding: var(--content-padding) var(--spacing-unit);
    }

    .ltx_title {
        font-size: 2rem;
    }

    h1 {
        font-size: 1.75rem;
    }

    h2 {
        font-size: 1.5rem;
    }

    h3 {
        font-size: 1.25rem;
    }

    .ltx_abstract {
        padding: 1.5rem;
    }
}

/* Component: reading-time */
/* Reading Time Component - Estimated reading time display */
/* Shows at the top of the document, near the title */

.tex2any-reading-time {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: var(--toggle-bg, rgba(255, 255, 255, 0.95));
    border: 1px solid var(--toggle-border, #d0d0d0);
    border-radius: 20px;
    font-size: 0.9rem;
    font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif);
    color: var(--text-color, #1a1a1a);
    margin: 1rem 0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.tex2any-reading-time svg {
    width: 18px;
    height: 18px;
    fill: currentColor;
    opacity: 0.7;
}

.tex2any-reading-time-text {
    font-weight: 500;
}

/* Position near title if .ltx_title exists */
.ltx_title + .tex2any-reading-time,
h1 + .tex2any-reading-time {
    margin-top: 0.5rem;
}

/* Alternative: floating position in top-right */
.tex2any-reading-time.floating {
    position: absolute;
    top: 20px;
    right: 20px;
    margin: 0;
    z-index: 100;
}

/* When used with header components, adjust position */
.tex2any-reading-time.in-header {
    position: static;
    margin: 0;
}

/* Progress indicator (optional enhancement) */
.tex2any-reading-time-progress {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-right: 0.25rem;
    transition: background-color 0.3s ease;
}

.tex2any-reading-time-progress.not-started {
    background-color: #e0e0e0;
}

.tex2any-reading-time-progress.in-progress {
    background-color: #ffc107;
}

.tex2any-reading-time-progress.completed {
    background-color: #4caf50;
}

/* Dark mode adjustments */
body[data-theme="dark"] .tex2any-reading-time {
    background: var(--color-surface, rgba(42, 42, 42, 0.95));
    border-color: var(--color-border, #404040);
    color: var(--color-text, #e4e4e4);
}

body[data-theme="dark"] .tex2any-reading-time-progress.not-started {
    background-color: #404040;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .tex2any-reading-time {
        font-size: 0.85rem;
        padding: 0.4rem 0.8rem;
    }

    .tex2any-reading-time.floating {
        top: 10px;
        right: 10px;
    }

    .tex2any-reading-time svg {
        width: 16px;
        height: 16px;
    }
}

/* Animation on load */
@keyframes fadeInSlide {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.tex2any-reading-time {
    animation: fadeInSlide 0.5s ease-out;
}

/* Tooltip for detailed info */
.tex2any-reading-time::after {
    content: attr(data-tooltip);
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 8px;
    padding: 0.5rem 0.75rem;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    font-size: 0.8rem;
    border-radius: 4px;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s;
    z-index: 10;
}

.tex2any-reading-time:hover::after {
    opacity: 1;
}

body[data-theme="dark"] .tex2any-reading-time::after {
    background: rgba(255, 255, 255, 0.9);
    color: black;
}

/* Accessibility */
.tex2any-reading-time:focus-visible {
    outline: 2px solid var(--link-color, #0066cc);
    outline-offset: 2px;
}

/* Component: footer */
/* Footer Component */

.tex2any-footer {
    background: var(--footer-bg, #f8f8f8);
    border-top: 1px solid var(--footer-border, #e0e0e0);
    padding: 2rem;
    margin-top: 4rem;
    font-size: 0.9rem;
    color: var(--footer-text-color, #666);
}

.tex2any-footer-content {
    max-width: var(--max-width, 1200px);
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
}

.tex2any-footer-section h3 {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 0.75rem 0;
    color: var(--footer-heading-color, #1a1a1a);
}

.tex2any-footer-section ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.tex2any-footer-section li {
    margin-bottom: 0.5rem;
}

.tex2any-footer-section a {
    color: var(--footer-link-color, #0066cc);
    text-decoration: none;
    transition: color 0.2s;
}

.tex2any-footer-section a:hover {
    color: var(--footer-link-hover, #0052a3);
    text-decoration: underline;
}

.tex2any-footer-bottom {
    max-width: var(--max-width, 1200px);
    margin: 2rem auto 0;
    padding-top: 1.5rem;
    border-top: 1px solid var(--footer-border, #e0e0e0);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.tex2any-footer-copyright {
    color: var(--footer-copyright-color, #999);
}

.tex2any-footer-links {
    display: flex;
    gap: 1.5rem;
}

@media (max-width: 768px) {
    .tex2any-footer-content {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }

    .tex2any-footer-bottom {
        flex-direction: column;
        text-align: center;
    }
}

/* Component: floating-toc */
/* Floating TOC Component - Left sidebar navigation */
/* Works within a container, not fixed to viewport */

.tex2any-floating-toc {
    position: absolute;
    left: 0;
    top: 0;
    width: 280px;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 2rem 1.5rem;
    background: var(--toc-bg, #f8f8f8);
    border-right: 1px solid var(--toc-border, #ddd);
    font-size: 0.9rem;
    z-index: 100;
    transition: transform 0.3s ease;
}

.tex2any-floating-toc.collapsed {
    transform: translateX(-100%);
}

.tex2any-floating-toc-toggle {
    position: absolute;
    left: 10px;
    top: 10px;
    z-index: 101;
    padding: 0.5rem 0.75rem;
    background: var(--toc-toggle-bg, #ffffff);
    border: 1px solid var(--toc-border, #ddd);
    border-radius: 4px;
    cursor: pointer;
    font-size: 1.2rem;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: all 0.2s;
}

.tex2any-floating-toc-toggle:hover {
    background: var(--toc-toggle-hover, #f0f0f0);
}

.tex2any-floating-toc .tex2any-toc-title {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--text-color, #1a1a1a);
}

.tex2any-floating-toc ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.tex2any-floating-toc li {
    margin: 0.3rem 0;
}

.tex2any-floating-toc li li {
    padding-left: 1rem;
}

.tex2any-floating-toc li li li {
    padding-left: 2rem;
}

.tex2any-floating-toc a {
    display: block;
    padding: 0.4rem 0.6rem;
    border-radius: 4px;
    transition: all 0.2s;
    color: var(--link-color, #0066cc);
    text-decoration: none;
}

.tex2any-floating-toc a:hover {
    background: var(--toc-hover-bg, rgba(0, 102, 204, 0.1));
}

.tex2any-floating-toc a.active {
    background: var(--toc-active-bg, rgba(0, 102, 204, 0.15));
    font-weight: 500;
}

/* TOC is an overlay - doesn't affect main content layout at all */
body.has-floating-toc {
    /* No layout changes - TOC floats on top */
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}

/* Responsive: hide TOC on small screens */
@media (max-width: 1024px) {
    .tex2any-floating-toc {
        transform: translateX(-100%);
    }

    .tex2any-floating-toc.show {
        transform: translateX(0);
        box-shadow: 2px 0 8px rgba(0,0,0,0.2);
    }

    body.has-floating-toc {
        margin-left: 0;
    }
}
</style>
</head>
<body>
<div class="tex2any-content-wrapper">
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Algebraic Composition for Streaming Data Reduction:
<br class="ltx_break">A Type-Safe Framework with Numerical Stability</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Anonymous Submission
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:anonymous@conference.org">anonymous@conference.org</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution">Anonymous Institution</span><span class="ltx_text ltx_affiliation_city">City</span><span class="ltx_text ltx_affiliation_country">Country</span>
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p">Streaming data processing requires algorithms that compute statistical aggregates in a single pass with constant memory—a challenge complicated by floating-point precision loss and the need to compute multiple statistics simultaneously. We present <span class="ltx_text ltx_font_typewriter">accumux</span>, a C<span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span><span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span> library that solves these challenges through <em class="ltx_emph ltx_font_italic">algebraic composition</em> of numerically stable accumulators.</p>
<p class="ltx_p">Our key insight is that online reduction algorithms naturally form monoid structures that can be composed using familiar operators: parallel composition (<span class="ltx_text ltx_font_typewriter">+</span>) runs multiple reductions simultaneously, while sequential composition (<span class="ltx_text ltx_font_typewriter">*</span>) creates processing pipelines. This algebraic approach enables expressing complex streaming computations as simple expressions like <span class="ltx_text ltx_font_typewriter">sum + variance + minmax</span>.</p>
<p class="ltx_p">We implement production-ready algorithms including Kahan-Babuška-Neumaier summation (maintaining <math id="m1" class="ltx_Math" alttext="O(\epsilon)" display="inline"><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ϵ</mi><mo stretchy="false">)</mo></mrow></mrow></math> error versus <math id="m2" class="ltx_Math" alttext="O(n\epsilon)" display="inline"><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>⁢</mo><mi>ϵ</mi></mrow><mo stretchy="false">)</mo></mrow></mrow></math> for naive summation) and Welford’s online variance. Through C<span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span><span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span> 20 concepts and template metaprogramming, compositions are type-safe with zero runtime overhead.</p>
<p class="ltx_p">Evaluation on real workloads shows composed accumulators perform within 5% of hand-optimized implementations while reducing code complexity by 70%. Case studies in high-frequency trading and IoT demonstrate practical impact: eliminating daily recalibration in financial systems and enabling statistical processing on memory-constrained edge devices.</p>
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_copyright"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>none</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p class="ltx_p">Streaming data has become ubiquitous. Financial markets generate millions of trades per second, IoT sensors produce continuous measurements, and distributed systems emit endless metrics. These applications share a fundamental constraint: data must be processed in a single pass with bounded memory, as storing or re-reading the stream is infeasible.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p class="ltx_p">This constraint creates two critical challenges. First, <em class="ltx_emph ltx_font_italic">numerical stability</em>: naive floating-point summation accumulates rounding errors proportional to data size, causing unacceptable precision loss over millions of operations. Second, <em class="ltx_emph ltx_font_italic">composition complexity</em>: computing multiple statistics (mean, variance, min/max) requires either multiple passes—impossible for streams—or manual coordination of separate accumulator states.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p class="ltx_p">Consider a high-frequency trading system tracking price statistics. The system must maintain running mean, variance, and range for risk calculations, processing 2 million trades per second with microsecond latency requirements. A straightforward implementation faces stark trade-offs:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p class="ltx_p">Store all data for batch processing: Infeasible due to volume (170GB/day at minimal 100 bytes/trade)</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Implement separate accumulators: Error-prone manual state management and loop duplication</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p class="ltx_p">Use naive summation: Accumulated errors requiring daily recalibration, risking miscalculated positions</p>
</div>
</li>
</ul>
</div>
<div id="S1.p4" class="ltx_para">
<p class="ltx_p">We present <span class="ltx_text ltx_font_typewriter">accumux</span>, a C<span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span><span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span> library that elegantly solves both challenges through <em class="ltx_emph ltx_font_italic">algebraic composition</em>. Our key insight: online reduction algorithms naturally form algebraic structures (monoids) that can be composed using intuitive operators. Just as numbers combine with <span class="ltx_text ltx_font_typewriter">+</span> and <span class="ltx_text ltx_font_typewriter">*</span>, accumulators compose to form complex streaming computations.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p class="ltx_p">This algebraic approach transforms the above trading system into a single expression:</p>
<div class="ltx_listing ltx_lst_language_C++ ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YXV0byBzdGF0cyA9IGtibl9zdW17fSArIHZhcmlhbmNle30gKyByYW5nZXt9Owpmb3IgKGF1dG8gdHJhZGUgOiBzdHJlYW0pIHN0YXRzICs9IHRyYWRlLnByaWNlOw==" download="">⬇</a></div>
<div id="lstnumberx1" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">kbn_sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">variance</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">range</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{};</span>
</div>
<div id="lstnumberx2" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">trade</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stream</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">trade</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">price</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
</div>
</div>
<div id="S1.p6" class="ltx_para">
<p class="ltx_p">Three lines replace dozens, with guaranteed numerical stability and type-safe composition.</p>
</div>
<section id="S1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.1. </span>Motivating Example</h3>

<div id="S1.SS1.p1" class="ltx_para">
<p class="ltx_p">To illustrate <span class="ltx_text ltx_font_typewriter">accumux</span>’s power, consider computing comprehensive statistics for temperature sensors in a climate monitoring network. Requirements include numerically stable summation for energy calculations, variance for anomaly detection, and range tracking for alerts:</p>
</div>
<figure id="LST1" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gRGVmaW5lIHRoZSBjb21wb3NlZCBhY2N1bXVsYXRvcgphdXRvIHN0YXRzID0ga2JuX3N1bTxkb3VibGU+e30gKwogICAgICAgICAgICAgd2VsZm9yZF9hY2N1bXVsYXRvcjxkb3VibGU+e30gKwogICAgICAgICAgICAgbWlubWF4X2FjY3VtdWxhdG9yPGRvdWJsZT57fTsKCi8vIFByb2Nlc3Mgc3RyZWFtaW5nIGRhdGEgaW4gc2luZ2xlIHBhc3MKZm9yIChkb3VibGUgdmFsdWUgOiBzZW5zb3Jfc3RyZWFtKSB7CiAgICBzdGF0cyArPSB2YWx1ZTsgIC8vIEFsbCBhY2N1bXVsYXRvcnMgdXBkYXRlIGF0b21pY2FsbHkKfQoKLy8gRXh0cmFjdCByZXN1bHRzIHdpdGggc3RydWN0dXJlZCBiaW5kaW5nCmF1dG8gW3N1bSwgdmFyaWFuY2Vfc3RhdHMsIHJhbmdlXSA9IHN0YXRzLmV2YWwoKTsKc3RkOjpjb3V0IDw8ICJTdW06ICIgPDwgc3VtCiAgICAgICAgICA8PCAiLCBNZWFuOiAiIDw8IHZhcmlhbmNlX3N0YXRzLm1lYW4oKQogICAgICAgICAgPDwgIiwgU3RkRGV2OiAiIDw8IHNxcnQodmFyaWFuY2Vfc3RhdHMudmFyaWFuY2UoKSkKICAgICAgICAgIDw8ICIsIFJhbmdlOiBbIiA8PCByYW5nZS5taW4oKQogICAgICAgICAgPDwgIiwgIiA8PCByYW5nZS5tYXgoKSA8PCAiXSI7" download="">⬇</a></div>
<div id="lstnumberx3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Define<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>composed<span class="ltx_text ltx_lst_space"> </span>accumulator</span>
</div>
<div id="lstnumberx4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">kbn_sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span>
</div>
<div id="lstnumberx5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">welford_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span>
</div>
<div id="lstnumberx6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">minmax_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{};</span>
</div>
<div id="lstnumberx7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span>
</div>
<div id="lstnumberx8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Process<span class="ltx_text ltx_lst_space"> </span>streaming<span class="ltx_text ltx_lst_space"> </span>data<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>single<span class="ltx_text ltx_lst_space"> </span>pass</span>
</div>
<div id="lstnumberx9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sensor_stream</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>All<span class="ltx_text ltx_lst_space"> </span>accumulators<span class="ltx_text ltx_lst_space"> </span>update<span class="ltx_text ltx_lst_space"> </span>atomically</span>
</div>
<div id="lstnumberx11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span>
</div>
<div id="lstnumberx13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Extract<span class="ltx_text ltx_lst_space"> </span>results<span class="ltx_text ltx_lst_space"> </span>with<span class="ltx_text ltx_lst_space"> </span>structured<span class="ltx_text ltx_lst_space"> </span>binding</span>
</div>
<div id="lstnumberx14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">variance_stats</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">range</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">eval</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">();</span>
</div>
<div id="lstnumberx15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">cout</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#FF0000;">"Sum:<span class="ltx_text ltx_lst_space">␣</span>"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum</span>
</div>
<div id="lstnumberx16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">          </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#FF0000;">",<span class="ltx_text ltx_lst_space">␣</span>Mean:<span class="ltx_text ltx_lst_space">␣</span>"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">variance_stats</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">mean</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">()</span>
</div>
<div id="lstnumberx17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">          </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#FF0000;">",<span class="ltx_text ltx_lst_space">␣</span>StdDev:<span class="ltx_text ltx_lst_space">␣</span>"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sqrt</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">variance_stats</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">variance</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">())</span>
</div>
<div id="lstnumberx18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">          </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#FF0000;">",<span class="ltx_text ltx_lst_space">␣</span>Range:<span class="ltx_text ltx_lst_space">␣</span>["</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">range</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">min</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">()</span>
</div>
<div id="lstnumberx19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">          </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#FF0000;">",<span class="ltx_text ltx_lst_space">␣</span>"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">range</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">max</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#FF0000;">"]"</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 1: </span>Composing multiple accumulators algebraically</figcaption>
</figure>
<div id="S1.SS1.p2" class="ltx_para">
<p class="ltx_p">This example showcases <span class="ltx_text ltx_font_typewriter">accumux</span>’s core innovations:</p>
<ol id="S1.I2" class="ltx_enumerate">
<li id="S1.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span> 
<div id="S1.I2.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Algebraic Composition</span>: The <span class="ltx_text ltx_font_typewriter">+</span> operator naturally expresses parallel reduction—all accumulators process each value simultaneously.</p>
</div>
</li>
<li id="S1.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span> 
<div id="S1.I2.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Numerical Stability</span>: <span class="ltx_text ltx_font_typewriter">kbn_sum</span> maintains <math id="S1.I2.i2.p1.m1" class="ltx_Math" alttext="O(\epsilon)" display="inline"><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ϵ</mi><mo stretchy="false">)</mo></mrow></mrow></math> error bounds compared to <math id="S1.I2.i2.p1.m2" class="ltx_Math" alttext="O(n\epsilon)" display="inline"><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>⁢</mo><mi>ϵ</mi></mrow><mo stretchy="false">)</mo></mrow></mrow></math> for naive summation, critical for long-running computations.</p>
</div>
</li>
<li id="S1.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span> 
<div id="S1.I2.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Zero-Cost Abstraction</span>: Despite the high-level interface, generated code matches hand-optimized implementations through template metaprogramming.</p>
</div>
</li>
</ol>
</div>
</section>
<section id="S1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.2. </span>Contributions</h3>

<div id="S1.SS2.p1" class="ltx_para">
<p class="ltx_p">This paper presents a fundamental advance in streaming computation through the following contributions:</p>
</div>
<div id="S1.SS2.p2" class="ltx_para">
<ol id="S1.I3" class="ltx_enumerate">
<li id="S1.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span> 
<div id="S1.I3.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Algebraic Composition Theory</span> (Section 3): We prove that online accumulators form monoid structures and develop composition operators (<span class="ltx_text ltx_font_typewriter">+</span> for parallel, <span class="ltx_text ltx_font_typewriter">*</span> for sequential) that preserve algebraic properties. This enables reasoning about composed computations using established mathematical principles.</p>
</div>
</li>
<li id="S1.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span> 
<div id="S1.I3.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Numerically Stable Implementations</span> (Section 4): We provide production-ready implementations of critical algorithms—Kahan-Babuška-Neumaier summation and Welford’s variance—with formal error analysis showing exponentially better bounds than naive approaches.</p>
</div>
</li>
<li id="S1.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span> 
<div id="S1.I3.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Zero-Overhead Type System</span> (Section 4): Through C<span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span><span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span> 20 concepts and template metaprogramming, we achieve compile-time type safety and composition validation with literally zero runtime cost—composed code matches hand-optimized assembly.</p>
</div>
</li>
<li id="S1.I3.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span> 
<div id="S1.I3.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Comprehensive Evaluation</span> (Section 5): Extensive benchmarks on real workloads demonstrate 5% overhead versus manual optimization while reducing code complexity by 70%. Case studies show transformative impact in production systems.</p>
</div>
</li>
<li id="S1.I3.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(5)</span> 
<div id="S1.I3.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Open-Source Release</span>: The complete library with 100% test coverage is available at [repository URL], ready for production use.</p>
</div>
</li>
</ol>
</div>
</section>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Background and Related Work</h2>

<div id="S2.p1" class="ltx_para">
<p class="ltx_p">We position <span class="ltx_text ltx_font_typewriter">accumux</span> within the broader landscape of streaming algorithms, numerical computing, and compositional programming.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Online Algorithms and Streaming Data</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p class="ltx_p">Online algorithms process data sequentially, making irrevocable decisions without knowledge of future inputs <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib1" title="" class="ltx_ref">borodin2005online, </a>)</cite>. In the context of data reduction, online algorithms must maintain a summary structure that can be updated incrementally and queried at any time. The theoretical foundations of online algorithms establish fundamental trade-offs between space complexity, approximation quality, and computational efficiency <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib2" title="" class="ltx_ref">muthukrishnan2005data, </a>)</cite>.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p class="ltx_p">Streaming algorithms, a specialized class of online algorithms, operate under strict space constraints—typically O(log n) or O(1) space for n data items <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib3" title="" class="ltx_ref">alon1996space, </a>)</cite>. Classical results in streaming include the Count-Min sketch for frequency estimation <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib4" title="" class="ltx_ref">cormode2005improved, </a>)</cite> and reservoir sampling for uniform sampling <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib5" title="" class="ltx_ref">vitter1985random, </a>)</cite>. Our work focuses on exact computations rather than approximations, operating within the O(1) space constraint while maintaining numerical precision.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Numerical Stability in Floating-Point Computation</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p class="ltx_p">Floating-point arithmetic introduces rounding errors that can accumulate catastrophically in iterative computations <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib6" title="" class="ltx_ref">goldberg1991every, </a>)</cite>. For summation, naive accumulation exhibits error growth of O(n<math id="S2.SS2.p1.m1" class="ltx_Math" alttext="\epsilon" display="inline"><mi>ϵ</mi></math>) where n is the number of operations and <math id="S2.SS2.p1.m2" class="ltx_Math" alttext="\epsilon" display="inline"><mi>ϵ</mi></math> is machine epsilon <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib7" title="" class="ltx_ref">higham2002accuracy, </a>)</cite>.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p class="ltx_p">Compensated summation algorithms address this challenge by maintaining correction terms that capture rounding errors. Kahan summation <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib8" title="" class="ltx_ref">kahan1965pracniques, </a>)</cite> reduces error to O(<math id="S2.SS2.p2.m1" class="ltx_Math" alttext="\epsilon" display="inline"><mi>ϵ</mi></math>) + O(n<math id="S2.SS2.p2.m2" class="ltx_Math" alttext="\epsilon^{2}" display="inline"><msup><mi>ϵ</mi><mn>2</mn></msup></math>), while the Kahan-Babuška-Neumaier algorithm <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib9" title="" class="ltx_ref">neumaier1974rundungsfehleranalyse, </a>)</cite> provides similar bounds with improved handling of varied magnitudes. These algorithms trade a constant factor in computation time for exponentially better error bounds.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p class="ltx_p">For statistical computations, Welford’s algorithm <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib10" title="" class="ltx_ref">welford1962note, </a>)</cite> computes running mean and variance in a numerically stable manner, avoiding the catastrophic cancellation that occurs in the naive two-pass algorithm. Chan et al. <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib11" title="" class="ltx_ref">chan1983algorithms, </a>)</cite> extended this work to parallel computation, enabling efficient combination of partial results.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3. </span>Compositional Programming Paradigms</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p class="ltx_p">Compositional design, championed by McIlroy <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib12" title="" class="ltx_ref">mcilroy1969mass, </a>)</cite>, advocates building complex systems from simple, composable parts. Functional programming has formalized this through algebraic structures: monads for sequential composition <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib13" title="" class="ltx_ref">wadler1995monads, </a>)</cite> and applicative functors for parallel composition <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib14" title="" class="ltx_ref">mcbride2008applicative, </a>)</cite>.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p class="ltx_p">The algebra of programming <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib15" title="" class="ltx_ref">bird1997algebra, </a>)</cite> shows how algebraic laws enable systematic program derivation and optimization. We apply these principles to streaming reduction, where the monoid structure emerges naturally from incremental accumulation.</p>
</div>
<div id="S2.SS3.p3" class="ltx_para">
<p class="ltx_p">Modern streaming systems provide different trade-offs:</p>
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Apache Flink</span> <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib16" title="" class="ltx_ref">carbone2015apache, </a>)</cite> and <span class="ltx_text ltx_font_bold">Spark Streaming</span> <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib17" title="" class="ltx_ref">zaharia2013discretized, </a>)</cite>: Distributed processing but coarse-grained composition and no numerical stability guarantees</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">DataSketches</span> <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib18" title="" class="ltx_ref">rhodes2021datasketches, </a>)</cite>: Composable approximate algorithms but not applicable when exact computation is required</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Reactive Extensions</span>: Stream transformation but focused on event processing rather than numerical reduction</p>
</div>
</li>
</ul>
</div>
<div id="S2.SS3.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">accumux</span> uniquely combines fine-grained algebraic composition with numerical stability for exact streaming computations.</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4. </span>Template Metaprogramming in C<span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span><span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span>
</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p class="ltx_p">Modern C<span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span><span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span> provides powerful compile-time programming facilities through templates and concepts. Expression templates <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib20" title="" class="ltx_ref">veldhuizen1995expression, </a>)</cite> enable lazy evaluation and optimization of composite operations. The introduction of concepts in C<span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span><span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span> 20 <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib19" title="" class="ltx_ref">sutton2017concepts, </a>)</cite> allows precise specification of type requirements, enabling better error messages and compile-time verification.</p>
</div>
<div id="S2.SS4.p2" class="ltx_para">
<p class="ltx_p">Libraries like Eigen <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib21" title="" class="ltx_ref">guennebaud2010eigen, </a>)</cite> and Blaze <cite class="ltx_cite ltx_citemacro_citep">(<a href="#biba.bib22" title="" class="ltx_ref">iglberger2012expression, </a>)</cite> demonstrate the effectiveness of template metaprogramming for numerical computing, achieving performance comparable to hand-optimized code. Our work extends these techniques specifically for streaming data reductions.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Mathematical Foundation and Design</h2>

<div id="S3.p1" class="ltx_para">
<p class="ltx_p">We develop the theoretical foundation for algebraic accumulator composition, proving that our framework preserves essential mathematical properties.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Accumulators as Monoids</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p class="ltx_p">The key insight underlying <span class="ltx_text ltx_font_typewriter">accumux</span> is that online reduction algorithms naturally exhibit monoid structure.</p>
</div>
<div id="S3.Thmtheorem1" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_theorem">Definition 3.1 (Accumulator Monoid).</h6>
<div id="S3.Thmtheorem1.p1" class="ltx_para">
<p class="ltx_p">An accumulator type <math id="S3.Thmtheorem1.p1.m1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><mi class="ltx_font_mathcaligraphic">𝒜</mi></math> forms a monoid <math id="S3.Thmtheorem1.p1.m2" class="ltx_Math" alttext="(\mathcal{A},\oplus,e)" display="inline"><mrow><mo stretchy="false">(</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo rspace="0em">,</mo><mo lspace="0em" rspace="0em">⊕</mo><mo>,</mo><mi>e</mi><mo stretchy="false">)</mo></mrow></math> where:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p class="ltx_p"><math id="S3.I1.i1.p1.m1" class="ltx_math_unparsed" alttext="\oplus:\mathcal{A}\times\mathcal{A}\rightarrow\mathcal{A}" display="inline"><mrow><mo rspace="0em">⊕</mo><mo rspace="0.278em">:</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.222em" rspace="0.222em">×</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo stretchy="false">→</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi></mrow></math> combines partial results</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p class="ltx_p"><math id="S3.I1.i2.p1.m1" class="ltx_Math" alttext="e\in\mathcal{A}" display="inline"><mrow><mi>e</mi><mo>∈</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi></mrow></math> represents the empty accumulation</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Associativity</span>: <math id="S3.I1.i3.p1.m1" class="ltx_Math" alttext="(a\oplus b)\oplus c=a\oplus(b\oplus c)" display="inline"><mrow><mrow><mrow><mo stretchy="false">(</mo><mrow><mi>a</mi><mo>⊕</mo><mi>b</mi></mrow><mo stretchy="false">)</mo></mrow><mo>⊕</mo><mi>c</mi></mrow><mo>=</mo><mrow><mi>a</mi><mo>⊕</mo><mrow><mo stretchy="false">(</mo><mrow><mi>b</mi><mo>⊕</mo><mi>c</mi></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></math> for all <math id="S3.I1.i3.p1.m2" class="ltx_Math" alttext="a,b,c\in\mathcal{A}" display="inline"><mrow><mrow><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>c</mi></mrow><mo>∈</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi></mrow></math></p>
</div>
</li>
<li id="S3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Identity</span>: <math id="S3.I1.i4.p1.m1" class="ltx_Math" alttext="e\oplus a=a\oplus e=a" display="inline"><mrow><mrow><mi>e</mi><mo>⊕</mo><mi>a</mi></mrow><mo>=</mo><mrow><mi>a</mi><mo>⊕</mo><mi>e</mi></mrow><mo>=</mo><mi>a</mi></mrow></math> for all <math id="S3.I1.i4.p1.m2" class="ltx_Math" alttext="a\in\mathcal{A}" display="inline"><mrow><mi>a</mi><mo>∈</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi></mrow></math></p>
</div>
</li>
</ul>
</div>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Example 1 (Sum Accumulator):</span>
The sum accumulator forms a monoid <math id="S3.SS1.p2.m1" class="ltx_Math" alttext="(\mathbb{R},+,0)" display="inline"><mrow><mo stretchy="false">(</mo><mi>ℝ</mi><mo rspace="0em">,</mo><mo lspace="0em" rspace="0em">+</mo><mo>,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></math> where addition combines partial sums and zero is the identity. The KBN variant maintains the same monoid structure while adding error compensation.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Example 2 (Min Accumulator):</span>
The minimum accumulator forms a monoid <math id="S3.SS1.p3.m1" class="ltx_Math" alttext="(\mathbb{R}\cup\{+\infty\},\min,+\infty)" display="inline"><mrow><mo stretchy="false">(</mo><mrow><mi>ℝ</mi><mo>∪</mo><mrow><mo stretchy="false">{</mo><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow><mo stretchy="false">}</mo></mrow></mrow><mo>,</mo><mi>min</mi><mo>,</mo><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow><mo stretchy="false">)</mo></mrow></math> where <math id="S3.SS1.p3.m2" class="ltx_Math" alttext="\min" display="inline"><mi>min</mi></math> selects the smaller value and <math id="S3.SS1.p3.m3" class="ltx_Math" alttext="+\infty" display="inline"><mrow><mo>+</mo><mi mathvariant="normal">∞</mi></mrow></math> represents ”no data seen.”</p>
</div>
<div id="S3.Thmtheorem2" class="ltx_theorem ltx_theorem_theorem">
<h6 class="ltx_title ltx_runin ltx_font_smallcaps ltx_title_theorem">Theorem 3.2 (Parallel Composition Preserves Monoid Structure).</h6>
<div id="S3.Thmtheorem2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Given accumulator monoids <math id="S3.Thmtheorem2.p1.m1" class="ltx_Math" alttext="(\mathcal{A},\oplus_{A},e_{A})" display="inline"><mrow><mo stretchy="false">(</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo rspace="0em">,</mo><msub><mo lspace="0em" rspace="0em">⊕</mo><mi>A</mi></msub><mo>,</mo><msub><mi>e</mi><mi>A</mi></msub><mo stretchy="false">)</mo></mrow></math> and <math id="S3.Thmtheorem2.p1.m2" class="ltx_Math" alttext="(\mathcal{B},\oplus_{B},e_{B})" display="inline"><mrow><mo stretchy="false">(</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi><mo rspace="0em">,</mo><msub><mo lspace="0em" rspace="0em">⊕</mo><mi>B</mi></msub><mo>,</mo><msub><mi>e</mi><mi>B</mi></msub><mo stretchy="false">)</mo></mrow></math>, their parallel composition forms a product monoid <math id="S3.Thmtheorem2.p1.m3" class="ltx_Math" alttext="(\mathcal{A}\times\mathcal{B},\oplus_{\times},(e_{A},e_{B}))" display="inline"><mrow><mo stretchy="false">(</mo><mrow><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.222em" rspace="0.222em">×</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow><mo rspace="0em">,</mo><msub><mo lspace="0em" rspace="0em">⊕</mo><mo>×</mo></msub><mo>,</mo><mrow><mo stretchy="false">(</mo><msub><mi>e</mi><mi>A</mi></msub><mo>,</mo><msub><mi>e</mi><mi>B</mi></msub><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow></math> where:</span></p>
<table id="S3.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex1.m1" class="ltx_math_unparsed" alttext="\oplus_{\times}:((a_{1},b_{1}),(a_{2},b_{2}))\mapsto(a_{1}\oplus_{A}a_{2},b_{1%
}\oplus_{B}b_{2})" display="block"><mrow><msub><mo>⊕</mo><mo>×</mo></msub><mo lspace="0em" rspace="0.278em">:</mo><mrow><mo stretchy="false">(</mo><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow><mo stretchy="false">↦</mo><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><msub><mo>⊕</mo><mi>A</mi></msub><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><msub><mi>b</mi><mn>1</mn></msub><msub><mo>⊕</mo><mi>B</mi></msub><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</div>
<div class="ltx_proof">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_proof">Proof.</h6>
<div id="S3.SS1.p4" class="ltx_para">
<p class="ltx_p">We verify the monoid axioms:</p>
<ul id="S3.I2" class="ltx_itemize">
<li id="S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Closure</span>: Since <math id="S3.I2.i1.p1.m1" class="ltx_math_unparsed" alttext="\oplus_{A}:\mathcal{A}\times\mathcal{A}\rightarrow\mathcal{A}" display="inline"><mrow><msub><mo>⊕</mo><mi>A</mi></msub><mo lspace="0em" rspace="0.278em">:</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.222em" rspace="0.222em">×</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo stretchy="false">→</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi></mrow></math> and <math id="S3.I2.i1.p1.m2" class="ltx_math_unparsed" alttext="\oplus_{B}:\mathcal{B}\times\mathcal{B}\rightarrow\mathcal{B}" display="inline"><mrow><msub><mo>⊕</mo><mi>B</mi></msub><mo lspace="0em" rspace="0.278em">:</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi><mo lspace="0.222em" rspace="0.222em">×</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi><mo stretchy="false">→</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow></math>, we have <math id="S3.I2.i1.p1.m3" class="ltx_math_unparsed" alttext="\oplus_{\times}:(\mathcal{A}\times\mathcal{B})\times(\mathcal{A}\times\mathcal%
{B})\rightarrow\mathcal{A}\times\mathcal{B}" display="inline"><mrow><msub><mo>⊕</mo><mo>×</mo></msub><mo lspace="0em" rspace="0.278em">:</mo><mrow><mo stretchy="false">(</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.222em" rspace="0.222em">×</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi><mo rspace="0.055em" stretchy="false">)</mo></mrow><mo rspace="0.222em">×</mo><mrow><mo stretchy="false">(</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.222em" rspace="0.222em">×</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi><mo stretchy="false">)</mo></mrow><mo stretchy="false">→</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.222em" rspace="0.222em">×</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow></math>.</p>
</div>
</li>
<li id="S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Associativity</span>: For any <math id="S3.I2.i2.p1.m1" class="ltx_Math" alttext="(a_{1},b_{1}),(a_{2},b_{2}),(a_{3},b_{3})\in\mathcal{A}\times\mathcal{B}" display="inline"><mrow><mrow><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><mo>,</mo><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>3</mn></msub><mo>,</mo><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow></mrow><mo>∈</mo><mrow><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.222em" rspace="0.222em">×</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow></mrow></math>:</p>
<table id="Sx1.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E1.m1" class="ltx_Math" alttext="\displaystyle((a_{1},b_{1})\oplus_{\times}(a_{2},b_{2}))\oplus_{\times}(a_{3},%
b_{3})" display="inline"><mrow><mrow><mo stretchy="false">(</mo><mrow><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><msub><mo>⊕</mo><mo>×</mo></msub><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow><msub><mo>⊕</mo><mo>×</mo></msub><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>3</mn></msub><mo>,</mo><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow></mrow></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E1.m2" class="ltx_Math" alttext="\displaystyle=((a_{1}\oplus_{A}a_{2})\oplus_{A}a_{3},(b_{1}\oplus_{B}b_{2})%
\oplus_{B}b_{3})" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mo stretchy="false">(</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><msub><mi>a</mi><mn>1</mn></msub><msub><mo>⊕</mo><mi>A</mi></msub><msub><mi>a</mi><mn>2</mn></msub></mrow><mo stretchy="false">)</mo></mrow><msub><mo>⊕</mo><mi>A</mi></msub><msub><mi>a</mi><mn>3</mn></msub></mrow><mo>,</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><msub><mi>b</mi><mn>1</mn></msub><msub><mo>⊕</mo><mi>B</mi></msub><msub><mi>b</mi><mn>2</mn></msub></mrow><mo stretchy="false">)</mo></mrow><msub><mo>⊕</mo><mi>B</mi></msub><msub><mi>b</mi><mn>3</mn></msub></mrow><mo stretchy="false">)</mo></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E2.m1" class="ltx_Math" alttext="\displaystyle=(a_{1}\oplus_{A}(a_{2}\oplus_{A}a_{3}),b_{1}\oplus_{B}(b_{2}%
\oplus_{B}b_{3}))" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>a</mi><mn>1</mn></msub><msub><mo>⊕</mo><mi>A</mi></msub><mrow><mo stretchy="false">(</mo><mrow><msub><mi>a</mi><mn>2</mn></msub><msub><mo>⊕</mo><mi>A</mi></msub><msub><mi>a</mi><mn>3</mn></msub></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>,</mo><mrow><msub><mi>b</mi><mn>1</mn></msub><msub><mo>⊕</mo><mi>B</mi></msub><mrow><mo stretchy="false">(</mo><mrow><msub><mi>b</mi><mn>2</mn></msub><msub><mo>⊕</mo><mi>B</mi></msub><msub><mi>b</mi><mn>3</mn></msub></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E3.m1" class="ltx_Math" alttext="\displaystyle=(a_{1},b_{1})\oplus_{\times}((a_{2},b_{2})\oplus_{\times}(a_{3},%
b_{3}))" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><msub><mo>⊕</mo><mo>×</mo></msub><mrow><mo stretchy="false">(</mo><mrow><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><msub><mo>⊕</mo><mo>×</mo></msub><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>3</mn></msub><mo>,</mo><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
<li id="S3.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Identity</span>: <math id="S3.I2.i3.p1.m1" class="ltx_Math" alttext="(e_{A},e_{B})\oplus_{\times}(a,b)=(e_{A}\oplus_{A}a,e_{B}\oplus_{B}b)=(a,b)" display="inline"><mrow><mrow><mrow><mo stretchy="false">(</mo><msub><mi>e</mi><mi>A</mi></msub><mo>,</mo><msub><mi>e</mi><mi>B</mi></msub><mo stretchy="false">)</mo></mrow><msub><mo>⊕</mo><mo>×</mo></msub><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>e</mi><mi>A</mi></msub><msub><mo>⊕</mo><mi>A</mi></msub><mi>a</mi></mrow><mo>,</mo><mrow><msub><mi>e</mi><mi>B</mi></msub><msub><mo>⊕</mo><mi>B</mi></msub><mi>b</mi></mrow><mo stretchy="false">)</mo></mrow><mo>=</mo><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></mrow></math>, and similarly for right identity.</p>
</div>
</li>
</ul>
<p class="ltx_p">∎</p>
</div>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Accumulator Homomorphisms</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p class="ltx_p">We define homomorphisms between accumulator types to enable type-safe composition and transformation.</p>
</div>
<div id="S3.Thmtheorem3" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_theorem">Definition 3.3 (Accumulator Homomorphism).</h6>
<div id="S3.Thmtheorem3.p1" class="ltx_para">
<p class="ltx_p">A function <math id="S3.Thmtheorem3.p1.m1" class="ltx_Math" alttext="h:A\rightarrow B" display="inline"><mrow><mi>h</mi><mo lspace="0.278em" rspace="0.278em">:</mo><mrow><mi>A</mi><mo stretchy="false">→</mo><mi>B</mi></mrow></mrow></math> is an accumulator homomorphism if:</p>
<table id="S3.Ex2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex2.m1" class="ltx_Math" alttext="h(a_{1}\oplus_{A}a_{2})=h(a_{1})\oplus_{B}h(a_{2})" display="block"><mrow><mrow><mi>h</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>a</mi><mn>1</mn></msub><msub><mo>⊕</mo><mi>A</mi></msub><msub><mi>a</mi><mn>2</mn></msub></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mi>h</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mrow><msub><mo>⊕</mo><mi>B</mi></msub><mrow><mi>h</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<table id="S3.Ex3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex3.m1" class="ltx_Math" alttext="h(e_{A})=e_{B}" display="block"><mrow><mrow><mi>h</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>e</mi><mi>A</mi></msub><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><msub><mi>e</mi><mi>B</mi></msub></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p class="ltx_p">The eval() method of each accumulator acts as a homomorphism to the value domain, preserving the algebraic structure while extracting results.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Composition Operators</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p class="ltx_p">We define two composition operators that mirror fundamental algebraic operations:</p>
</div>
<section id="S3.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.3.1. </span>Parallel Composition (<span class="ltx_text ltx_font_typewriter">operator+</span>)</h4>

<div id="S3.SS3.SSS1.p1" class="ltx_para">
<p class="ltx_p">Parallel composition enables multiple accumulators to process the same stream simultaneously, crucial for computing multiple statistics in a single pass.</p>
</div>
<div id="S3.Thmtheorem4" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_theorem">Definition 3.4 (Parallel Composition).</h6>
<div id="S3.Thmtheorem4.p1" class="ltx_para">
<p class="ltx_p">For accumulators <math id="S3.Thmtheorem4.p1.m1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><mi class="ltx_font_mathcaligraphic">𝒜</mi></math> and <math id="S3.Thmtheorem4.p1.m2" class="ltx_Math" alttext="\mathcal{B}" display="inline"><mi class="ltx_font_mathcaligraphic">ℬ</mi></math> with value type <math id="S3.Thmtheorem4.p1.m3" class="ltx_Math" alttext="V" display="inline"><mi>V</mi></math>, their parallel composition <math id="S3.Thmtheorem4.p1.m4" class="ltx_Math" alttext="\mathcal{A}\parallel\mathcal{B}" display="inline"><mrow><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo>∥</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow></math> (denoted <math id="S3.Thmtheorem4.p1.m5" class="ltx_Math" alttext="\mathcal{A}+\mathcal{B}" display="inline"><mrow><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo>+</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow></math> in code) creates a product accumulator:</p>
<table id="S3.Ex4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex4.m1" class="ltx_Math" alttext="\text{update}_{\mathcal{A}\parallel\mathcal{B}}(s,v)=(\text{update}_{\mathcal{%
A}}(s_{1},v),\text{update}_{\mathcal{B}}(s_{2},v))" display="block"><mrow><mrow><msub><mtext>update</mtext><mrow><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo>∥</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>s</mi><mo>,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mtext>update</mtext><mi class="ltx_font_mathcaligraphic">𝒜</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo>,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mrow><mo>,</mo><mrow><msub><mtext>update</mtext><mi class="ltx_font_mathcaligraphic">ℬ</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo>,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p">where <math id="S3.Thmtheorem4.p1.m6" class="ltx_Math" alttext="s=(s_{1},s_{2})" display="inline"><mrow><mi>s</mi><mo>=</mo><mrow><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo>,</mo><msub><mi>s</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mrow></math> is the composed state and <math id="S3.Thmtheorem4.p1.m7" class="ltx_Math" alttext="v\in V" display="inline"><mrow><mi>v</mi><mo>∈</mo><mi>V</mi></mrow></math> is the input value.</p>
</div>
</div>
<div id="S3.Thmtheorem5" class="ltx_theorem ltx_theorem_theorem">
<h6 class="ltx_title ltx_runin ltx_font_smallcaps ltx_title_theorem">Theorem 3.5 (Commutativity and Associativity of Parallel Composition).</h6>
<div id="S3.Thmtheorem5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Parallel composition is both commutative (<math id="S3.Thmtheorem5.p1.m1" class="ltx_Math" alttext="\mathcal{A}\parallel\mathcal{B}\cong\mathcal{B}\parallel\mathcal{A}" display="inline"><mrow><mrow><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo>∥</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow><mo>≅</mo><mrow><mi class="ltx_font_mathcaligraphic">ℬ</mi><mo>∥</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi></mrow></mrow></math>) and associative (<math id="S3.Thmtheorem5.p1.m2" class="ltx_math_unparsed" alttext="(\mathcal{A}\parallel\mathcal{B})\parallel\mathcal{C}\cong\mathcal{A}\parallel%
(\mathcal{B}\parallel\mathcal{C})" display="inline"><mrow><mrow><mo stretchy="false">(</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0em" rspace="0.167em">∥</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi><mo stretchy="false">)</mo></mrow><mo lspace="0em" rspace="0.167em">∥</mo><mi class="ltx_font_mathcaligraphic">𝒞</mi><mo>≅</mo><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0em" rspace="0.167em">∥</mo><mrow><mo stretchy="false">(</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi><mo lspace="0em" rspace="0.167em">∥</mo><mi class="ltx_font_mathcaligraphic">𝒞</mi><mo stretchy="false">)</mo></mrow></mrow></math>), where <math id="S3.Thmtheorem5.p1.m3" class="ltx_Math" alttext="\cong" display="inline"><mo>≅</mo></math> denotes isomorphism of accumulator behavior.</span></p>
</div>
</div>
</section>
<section id="S3.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.3.2. </span>Sequential Composition (<span class="ltx_text ltx_font_typewriter">operator*</span>)</h4>

<div id="S3.SS3.SSS2.p1" class="ltx_para">
<p class="ltx_p">Sequential composition creates processing pipelines, enabling staged computations.</p>
</div>
<div id="S3.Thmtheorem6" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_theorem">Definition 3.6 (Sequential Composition).</h6>
<div id="S3.Thmtheorem6.p1" class="ltx_para">
<p class="ltx_p">For compatible accumulators <math id="S3.Thmtheorem6.p1.m1" class="ltx_Math" alttext="\mathcal{A}:V\rightarrow W" display="inline"><mrow><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.278em" rspace="0.278em">:</mo><mrow><mi>V</mi><mo stretchy="false">→</mo><mi>W</mi></mrow></mrow></math> and <math id="S3.Thmtheorem6.p1.m2" class="ltx_Math" alttext="\mathcal{B}:W\rightarrow U" display="inline"><mrow><mi class="ltx_font_mathcaligraphic">ℬ</mi><mo lspace="0.278em" rspace="0.278em">:</mo><mrow><mi>W</mi><mo stretchy="false">→</mo><mi>U</mi></mrow></mrow></math>, their sequential composition <math id="S3.Thmtheorem6.p1.m3" class="ltx_Math" alttext="\mathcal{A}\triangleright\mathcal{B}" display="inline"><mrow><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.222em" rspace="0.222em">▷</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow></math> (denoted <math id="S3.Thmtheorem6.p1.m4" class="ltx_Math" alttext="\mathcal{A}*\mathcal{B}" display="inline"><mrow><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.222em" rspace="0.222em">∗</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow></math> in code) creates:</p>
<table id="S3.Ex5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex5.m1" class="ltx_Math" alttext="\text{update}_{\mathcal{A}\triangleright\mathcal{B}}(s,v)=\text{update}_{%
\mathcal{B}}(s_{2},\text{eval}_{\mathcal{A}}(\text{update}_{\mathcal{A}}(s_{1}%
,v)))" display="block"><mrow><mrow><msub><mtext>update</mtext><mrow><mi class="ltx_font_mathcaligraphic">𝒜</mi><mo lspace="0.222em" rspace="0.222em">▷</mo><mi class="ltx_font_mathcaligraphic">ℬ</mi></mrow></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>s</mi><mo>,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><msub><mtext>update</mtext><mi class="ltx_font_mathcaligraphic">ℬ</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>s</mi><mn>2</mn></msub><mo>,</mo><mrow><msub><mtext>eval</mtext><mi class="ltx_font_mathcaligraphic">𝒜</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mtext>update</mtext><mi class="ltx_font_mathcaligraphic">𝒜</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>s</mi><mn>1</mn></msub><mo>,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</div>
<div id="S3.Thmtheorem7" class="ltx_theorem ltx_theorem_theorem">
<h6 class="ltx_title ltx_runin ltx_font_smallcaps ltx_title_theorem">Theorem 3.7 (Associativity of Sequential Composition).</h6>
<div id="S3.Thmtheorem7.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Sequential composition is associative but not commutative, forming a category where accumulators are morphisms.</span></p>
</div>
</div>
</section>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Numerical Stability Analysis</h3>

<section id="S3.SS4.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.1. </span>Error Bounds for KBN Summation</h4>

<div id="S3.SS4.SSS1.p1" class="ltx_para">
<p class="ltx_p">The Kahan-Babuška-Neumaier (KBN) algorithm dramatically improves summation accuracy by maintaining a correction term for rounding errors.</p>
</div>
<div id="S3.Thmtheorem8" class="ltx_theorem ltx_theorem_theorem">
<h6 class="ltx_title ltx_runin ltx_font_smallcaps ltx_title_theorem">Theorem 3.8 (KBN Error Bound).</h6>
<div id="S3.Thmtheorem8.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Let <math id="S3.Thmtheorem8.p1.m1" class="ltx_Math" alttext="x_{1},\ldots,x_{n}" display="inline"><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>,</mo><mi mathvariant="normal">…</mi><mo>,</mo><msub><mi>x</mi><mi>n</mi></msub></mrow></math> be floating-point numbers summed using KBN with machine epsilon <math id="S3.Thmtheorem8.p1.m2" class="ltx_Math" alttext="\epsilon" display="inline"><mi>ϵ</mi></math>. The computed sum <math id="S3.Thmtheorem8.p1.m3" class="ltx_Math" alttext="\hat{S}" display="inline"><mover accent="true"><mi>S</mi><mo>^</mo></mover></math> satisfies:</span></p>
<table id="S3.Ex6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex6.m1" class="ltx_Math" alttext="|\hat{S}-S|\leq 2\epsilon|S|+(2\epsilon^{2}+O(\epsilon^{3}))\sum_{i=1}^{n}|x_{%
i}|" display="block"><mrow><mrow><mo stretchy="false">|</mo><mrow><mover accent="true"><mi>S</mi><mo>^</mo></mover><mo>−</mo><mi>S</mi></mrow><mo stretchy="false">|</mo></mrow><mo>≤</mo><mrow><mrow><mn>2</mn><mo>⁢</mo><mi>ϵ</mi><mo>⁢</mo><mrow><mo stretchy="false">|</mo><mi>S</mi><mo stretchy="false">|</mo></mrow></mrow><mo>+</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><mrow><mn>2</mn><mo>⁢</mo><msup><mi>ϵ</mi><mn>2</mn></msup></mrow><mo>+</mo><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msup><mi>ϵ</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow></mrow></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mrow><munderover><mo movablelimits="false" rspace="0em">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mo stretchy="false">|</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">|</mo></mrow></mrow></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">where <math id="S3.Thmtheorem8.p1.m4" class="ltx_Math" alttext="S=\sum_{i=1}^{n}x_{i}" display="inline"><mrow><mi>S</mi><mo rspace="0.111em">=</mo><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>x</mi><mi>i</mi></msub></mrow></mrow></math> is the exact sum.</span></p>
</div>
</div>
<div id="S3.Thmtheorem9" class="ltx_theorem ltx_theorem_corollary">
<h6 class="ltx_title ltx_runin ltx_font_smallcaps ltx_title_theorem">Corollary 3.9 (Comparison with Naive Summation).</h6>
<div id="S3.Thmtheorem9.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">For naive summation, the error bound is:</span></p>
<table id="S3.Ex7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex7.m1" class="ltx_Math" alttext="|\hat{S}_{naive}-S|\leq(n-1)\epsilon\sum_{i=1}^{n}|x_{i}|" display="block"><mrow><mrow><mo stretchy="false">|</mo><mrow><msub><mover accent="true"><mi>S</mi><mo>^</mo></mover><mrow><mi>n</mi><mo>⁢</mo><mi>a</mi><mo>⁢</mo><mi>i</mi><mo>⁢</mo><mi>v</mi><mo>⁢</mo><mi>e</mi></mrow></msub><mo>−</mo><mi>S</mi></mrow><mo stretchy="false">|</mo></mrow><mo>≤</mo><mrow><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow><mo>⁢</mo><mi>ϵ</mi><mo>⁢</mo><mrow><munderover><mo movablelimits="false" rspace="0em">∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mo stretchy="false">|</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">|</mo></mrow></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Thus KBN achieves <math id="S3.Thmtheorem9.p1.m1" class="ltx_Math" alttext="O(\epsilon)" display="inline"><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ϵ</mi><mo stretchy="false">)</mo></mrow></mrow></math> error versus <math id="S3.Thmtheorem9.p1.m2" class="ltx_Math" alttext="O(n\epsilon)" display="inline"><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>⁢</mo><mi>ϵ</mi></mrow><mo stretchy="false">)</mo></mrow></mrow></math> for naive summation—an exponential improvement for large <math id="S3.Thmtheorem9.p1.m3" class="ltx_Math" alttext="n" display="inline"><mi>n</mi></math>.</span></p>
</div>
</div>
</section>
<section id="S3.SS4.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.4.2. </span>Stability of Welford’s Algorithm</h4>

<div id="S3.SS4.SSS2.p1" class="ltx_para">
<p class="ltx_p">The naive variance formula <math id="S3.SS4.SSS2.p1.m1" class="ltx_Math" alttext="\text{Var}(X)=E[X^{2}]-(E[X])^{2}" display="inline"><mrow><mrow><mtext>Var</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mi>E</mi><mo>⁢</mo><mrow><mo stretchy="false">[</mo><msup><mi>X</mi><mn>2</mn></msup><mo stretchy="false">]</mo></mrow></mrow><mo>−</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mi>E</mi><mo>⁢</mo><mrow><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow></mrow><mo stretchy="false">)</mo></mrow><mn>2</mn></msup></mrow></mrow></math> suffers from catastrophic cancellation when <math id="S3.SS4.SSS2.p1.m2" class="ltx_Math" alttext="E[X^{2}]\approx(E[X])^{2}" display="inline"><mrow><mrow><mi>E</mi><mo>⁢</mo><mrow><mo stretchy="false">[</mo><msup><mi>X</mi><mn>2</mn></msup><mo stretchy="false">]</mo></mrow></mrow><mo>≈</mo><msup><mrow><mo stretchy="false">(</mo><mrow><mi>E</mi><mo>⁢</mo><mrow><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow></mrow><mo stretchy="false">)</mo></mrow><mn>2</mn></msup></mrow></math>. Welford’s algorithm avoids this through incremental computation.</p>
</div>
<div id="S3.Thmtheorem10" class="ltx_theorem ltx_theorem_theorem">
<h6 class="ltx_title ltx_runin ltx_font_smallcaps ltx_title_theorem">Theorem 3.10 (Welford Numerical Stability).</h6>
<div id="S3.Thmtheorem10.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">For <math id="S3.Thmtheorem10.p1.m1" class="ltx_Math" alttext="n" display="inline"><mi>n</mi></math> samples with variance <math id="S3.Thmtheorem10.p1.m2" class="ltx_Math" alttext="\sigma^{2}" display="inline"><msup><mi>σ</mi><mn>2</mn></msup></math>, Welford’s algorithm computes <math id="S3.Thmtheorem10.p1.m3" class="ltx_Math" alttext="\hat{\sigma}^{2}" display="inline"><msup><mover accent="true"><mi>σ</mi><mo>^</mo></mover><mn>2</mn></msup></math> with relative error:</span></p>
<table id="S3.Ex8" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex8.m1" class="ltx_Math" alttext="\frac{|\hat{\sigma}^{2}-\sigma^{2}|}{\sigma^{2}}\leq 2n\epsilon+O(n\epsilon^{2})" display="block"><mrow><mfrac><mrow><mo stretchy="false">|</mo><mrow><msup><mover accent="true"><mi>σ</mi><mo>^</mo></mover><mn>2</mn></msup><mo>−</mo><msup><mi>σ</mi><mn>2</mn></msup></mrow><mo stretchy="false">|</mo></mrow><msup><mi>σ</mi><mn>2</mn></msup></mfrac><mo>≤</mo><mrow><mrow><mn>2</mn><mo>⁢</mo><mi>n</mi><mo>⁢</mo><mi>ϵ</mi></mrow><mo>+</mo><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>⁢</mo><msup><mi>ϵ</mi><mn>2</mn></msup></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">under the mild assumption that <math id="S3.Thmtheorem10.p1.m4" class="ltx_Math" alttext="|x_{i}-\bar{x}|\leq K\sigma" display="inline"><mrow><mrow><mo stretchy="false">|</mo><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>x</mi><mo>¯</mo></mover></mrow><mo stretchy="false">|</mo></mrow><mo>≤</mo><mrow><mi>K</mi><mo>⁢</mo><mi>σ</mi></mrow></mrow></math> for some constant <math id="S3.Thmtheorem10.p1.m5" class="ltx_Math" alttext="K" display="inline"><mi>K</mi></math>.</span></p>
</div>
</div>
<div id="S3.SS4.SSS2.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Remark:</span> The naive two-pass algorithm can have unbounded relative error when <math id="S3.SS4.SSS2.p2.m1" class="ltx_Math" alttext="\sigma^{2}" display="inline"><msup><mi>σ</mi><mn>2</mn></msup></math> is small relative to <math id="S3.SS4.SSS2.p2.m2" class="ltx_Math" alttext="\bar{x}^{2}" display="inline"><msup><mover accent="true"><mi>x</mi><mo>¯</mo></mover><mn>2</mn></msup></math>, making Welford’s algorithm essential for streaming scenarios.</p>
</div>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Implementation Details</h2>

<div id="S4.p1" class="ltx_para">
<p class="ltx_p">We describe the key implementation techniques that enable zero-overhead composition while maintaining type safety.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Type System Using C++20 Concepts</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p class="ltx_p">C<span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span><span class="ltx_text ltx_font_bold" style="font-size:50%;position:relative; bottom:1.7pt;">+</span> 20 concepts enable precise specification of accumulator requirements, providing compile-time type safety with clear error messages:</p>
</div>
<figure id="LST2" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dGVtcGxhdGU8dHlwZW5hbWUgVD4KY29uY2VwdCBBY2N1bXVsYXRvciA9IHJlcXVpcmVzKFQgYWNjLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlIHZhbCkgewogIHR5cGVuYW1lIFQ6OnZhbHVlX3R5cGU7ICAgICAgICAgICAgICAvLyBWYWx1ZSB0eXBlCiAgdHlwZW5hbWUgVDo6cmVzdWx0X3R5cGU7ICAgICAgICAgICAgIC8vIFJlc3VsdCB0eXBlCgogIHsgVHt9IH0gLT4gc3RkOjpzYW1lX2FzPFQ+OyAgICAgICAgIC8vIERlZmF1bHQgY29uc3RydWN0aWJsZQogIHsgYWNjICs9IHZhbCB9IC0+IHN0ZDo6c2FtZV9hczxUJj47IC8vIFZhbHVlIGFjY3VtdWxhdGlvbgogIHsgYWNjICs9IGFjYyB9IC0+IHN0ZDo6c2FtZV9hczxUJj47IC8vIE1lcmdlIG9wZXJhdGlvbgogIHsgYWNjLmV2YWwoKSB9IC0+IHN0ZDo6Y29udmVydGlibGVfdG88CiAgICAgICAgICAgICAgICAgICAgICAgdHlwZW5hbWUgVDo6cmVzdWx0X3R5cGU+OyAvLyBFeHRyYWN0IHJlc3VsdAp9Ow==" download="">⬇</a></div>
<div id="lstnumberx20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">template</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">typename</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;</span>
</div>
<div id="lstnumberx21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">concept</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Accumulator</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">requires</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">acc</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span>
</div>
<div id="lstnumberx22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">                              </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">typename</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value_type</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">val</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">typename</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value_type</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">              </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Value<span class="ltx_text ltx_lst_space"> </span>type</span>
</div>
<div id="lstnumberx24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">typename</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">result_type</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">             </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Result<span class="ltx_text ltx_lst_space"> </span>type</span>
</div>
<div id="lstnumberx25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span>
</div>
<div id="lstnumberx26" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">-&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">same_as</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">         </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Default<span class="ltx_text ltx_lst_space"> </span>constructible</span>
</div>
<div id="lstnumberx27" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">acc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">val</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">-&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">same_as</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;&gt;;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Value<span class="ltx_text ltx_lst_space"> </span>accumulation</span>
</div>
<div id="lstnumberx28" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">acc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">acc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">-&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">same_as</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;&gt;;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Merge<span class="ltx_text ltx_lst_space"> </span>operation</span>
</div>
<div id="lstnumberx29" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">acc</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">eval</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">-&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">convertible_to</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span>
</div>
<div id="lstnumberx30" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">                       </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">typename</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">result_type</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Extract<span class="ltx_text ltx_lst_space"> </span>result</span>
</div>
<div id="lstnumberx31" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">};</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 2: </span>Core accumulator concept definition</figcaption>
</figure>
<div id="S4.SS1.p2" class="ltx_para">
<p class="ltx_p">This concept enforces the monoid structure at compile time, ensuring that only valid accumulators can be composed.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Numerically Stable KBN Implementation</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p class="ltx_p">The KBN implementation carefully maintains numerical precision through error compensation:</p>
</div>
<figure id="LST3" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dGVtcGxhdGU8c3RkOjpmbG9hdGluZ19wb2ludCBUPgpjbGFzcyBrYm5fc3VtIHsKICBUIHN1bV8sIGNvcnJlY3Rpb25fOwpwdWJsaWM6CiAga2JuX3N1bSYgb3BlcmF0b3IrPShjb25zdCBUJiB2YWx1ZSkgewogICAgY29uc3QgVCBjb3JyZWN0ZWQgPSB2YWx1ZSArIGNvcnJlY3Rpb25fOwogICAgY29uc3QgVCBuZXdfc3VtID0gc3VtXyArIGNvcnJlY3RlZDsKCiAgICBpZiAoc3RkOjphYnMoc3VtXykgPj0gc3RkOjphYnMoY29ycmVjdGVkKSkgewogICAgICBjb3JyZWN0aW9uXyA9IChzdW1fIC0gbmV3X3N1bSkgKyBjb3JyZWN0ZWQ7CiAgICB9IGVsc2UgewogICAgICBjb3JyZWN0aW9uXyA9IChjb3JyZWN0ZWQgLSBuZXdfc3VtKSArIHN1bV87CiAgICB9CgogICAgc3VtXyA9IG5ld19zdW07CiAgICByZXR1cm4gKnRoaXM7CiAgfQoKICBUIGV2YWwoKSBjb25zdCB7CiAgICByZXR1cm4gc3VtXyArIGNvcnJlY3Rpb25fOwogIH0KfTs=" download="">⬇</a></div>
<div id="lstnumberx32" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">template</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">floating_point</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;</span>
</div>
<div id="lstnumberx33" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">class</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">kbn_sum</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx34" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">correction_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx35" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">public</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span>
</div>
<div id="lstnumberx36" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">kbn_sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">operator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">const</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx37" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">const</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">corrected</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">correction_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx38" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">const</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">new_sum</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum_</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">corrected</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx39" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span>
</div>
<div id="lstnumberx40" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">abs</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">abs</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">corrected</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">))</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx41" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">correction_</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum_</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">new_sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">corrected</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx42" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">else</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx43" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">correction_</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">corrected</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">new_sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx44" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx45" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span>
</div>
<div id="lstnumberx46" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum_</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">new_sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx47" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">this</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx48" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx49" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18</span>
</div>
<div id="lstnumberx50" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">eval</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">const</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx51" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum_</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">correction_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx52" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx53" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">22</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">};</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 3: </span>KBN summation core algorithm</figcaption>
</figure>
<div id="S4.SS2.p2" class="ltx_para">
<p class="ltx_p">The key insight is that the correction term captures rounding errors that would otherwise accumulate. The conditional logic ensures correct handling regardless of operand magnitudes, addressing a subtle issue in the original Kahan algorithm.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Zero-Overhead Parallel Composition</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p class="ltx_p">Parallel composition uses template metaprogramming to ensure zero runtime overhead:</p>
</div>
<figure id="LST4" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dGVtcGxhdGU8QWNjdW11bGF0b3IgQSwgQWNjdW11bGF0b3IgQj4KY2xhc3MgcGFyYWxsZWxfY29tcG9zaXRpb24gewogIEEgYWNjdW11bGF0b3JfYV87CiAgQiBhY2N1bXVsYXRvcl9iXzsKcHVibGljOgogIHVzaW5nIHZhbHVlX3R5cGUgPSBzdGQ6OmNvbW1vbl90eXBlX3Q8CiAgICB0eXBlbmFtZSBBOjp2YWx1ZV90eXBlLAogICAgdHlwZW5hbWUgQjo6dmFsdWVfdHlwZT47CgogIGF1dG8mIG9wZXJhdG9yKz0oY29uc3QgdmFsdWVfdHlwZSYgdikgewogICAgYWNjdW11bGF0b3JfYV8gKz0gdjsKICAgIGFjY3VtdWxhdG9yX2JfICs9IHY7CiAgICByZXR1cm4gKnRoaXM7CiAgfQoKICBhdXRvIGV2YWwoKSBjb25zdCB7CiAgICByZXR1cm4gc3RkOjptYWtlX3R1cGxlKAogICAgICBhY2N1bXVsYXRvcl9hXy5ldmFsKCksCiAgICAgIGFjY3VtdWxhdG9yX2JfLmV2YWwoKSk7CiAgfQp9OwoKdGVtcGxhdGU8QWNjdW11bGF0b3IgQSwgQWNjdW11bGF0b3IgQj4KYXV0byBvcGVyYXRvcisoQSYmIGEsIEImJiBiKSB7CiAgcmV0dXJuIHBhcmFsbGVsX2NvbXBvc2l0aW9uPAogICAgc3RkOjpkZWNheV90PEE+LCBzdGQ6OmRlY2F5X3Q8Qj4+KAogICAgICBzdGQ6OmZvcndhcmQ8QT4oYSksIHN0ZDo6Zm9yd2FyZDxCPihiKSk7Cn0=" download="">⬇</a></div>
<div id="lstnumberx54" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">template</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Accumulator</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">A</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Accumulator</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">B</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;</span>
</div>
<div id="lstnumberx55" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">class</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">parallel_composition</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx56" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">A</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">accumulator_a_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx57" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">B</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">accumulator_b_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx58" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">public</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span>
</div>
<div id="lstnumberx59" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">using</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value_type</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">common_type_t</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span>
</div>
<div id="lstnumberx60" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">typename</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">A</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value_type</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span>
</div>
<div id="lstnumberx61" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">typename</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">B</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value_type</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;;</span>
</div>
<div id="lstnumberx62" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span>
</div>
<div id="lstnumberx63" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">operator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">const</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value_type</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">v</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx64" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">accumulator_a_</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">v</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx65" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">accumulator_b_</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">v</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx66" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">this</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx67" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx68" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span>
</div>
<div id="lstnumberx69" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">eval</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">const</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx70" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">make_tuple</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span>
</div>
<div id="lstnumberx71" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">accumulator_a_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">eval</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(),</span>
</div>
<div id="lstnumberx72" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">accumulator_b_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">eval</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">());</span>
</div>
<div id="lstnumberx73" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx74" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">};</span>
</div>
<div id="lstnumberx75" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">22</span>
</div>
<div id="lstnumberx76" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">23</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">template</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Accumulator</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">A</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Accumulator</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">B</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;</span>
</div>
<div id="lstnumberx77" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">24</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">operator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">A</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">a</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">B</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">b</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx78" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">25</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">parallel_composition</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span>
</div>
<div id="lstnumberx79" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">26</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">decay_t</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">A</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">decay_t</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">B</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;&gt;(</span>
</div>
<div id="lstnumberx80" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">27</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">forward</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">A</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">a</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">forward</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">B</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">b</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">));</span>
</div>
<div id="lstnumberx81" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">28</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 4: </span>Parallel composition implementation</figcaption>
</figure>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Compile-Time Optimizations</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p class="ltx_p">Several techniques ensure that abstraction incurs no runtime cost:</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<ol id="S4.I1" class="ltx_enumerate">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Expression Templates</span>: Composition operators return lightweight proxy objects that defer evaluation, enabling the compiler to inline and optimize the entire expression.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Perfect Forwarding</span>: Universal references and <span class="ltx_text ltx_font_typewriter">std::forward</span> preserve value categories through composition layers, avoiding unnecessary copies.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter ltx_font_bold">if constexpr</span>: Compile-time branching eliminates runtime conditionals based on type properties.</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Fold Expressions</span>: Variadic templates with fold expressions enable composing arbitrary numbers of accumulators with zero overhead.</p>
</div>
</li>
</ol>
</div>
<figure id="LST5" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dGVtcGxhdGU8QWNjdW11bGF0b3IuLi4gQXM+CmNsYXNzIHBhcmFsbGVsX2NvbXBvc2l0aW9uIHsKICBzdGQ6OnR1cGxlPEFzLi4uPiBhY2N1bXVsYXRvcnNfOwoKICB0ZW1wbGF0ZTx0eXBlbmFtZSBWPgogIGF1dG8mIG9wZXJhdG9yKz0oY29uc3QgViYgdmFsdWUpIHsKICAgIChzdGQ6OmdldDxBcz4oYWNjdW11bGF0b3JzXykgKz0gdmFsdWUsIC4uLik7ICAvLyBGb2xkCiAgICByZXR1cm4gKnRoaXM7CiAgfQp9Ow==" download="">⬇</a></div>
<div id="lstnumberx82" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">template</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">Accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">...</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">As</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;</span>
</div>
<div id="lstnumberx83" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">class</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">parallel_composition</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx84" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">tuple</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">As</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">...&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">accumulators_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx85" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span>
</div>
<div id="lstnumberx86" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">template</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">typename</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">V</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;</span>
</div>
<div id="lstnumberx87" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">operator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">const</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">V</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx88" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">std</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">::</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">get</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">As</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">accumulators_</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">...);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Fold</span>
</div>
<div id="lstnumberx89" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">return</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">this</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx90" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx91" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">};</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 5: </span>Variadic parallel composition using fold expressions</figcaption>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Empirical Evaluation</h2>

<div id="S5.p1" class="ltx_para">
<p class="ltx_p">We evaluate <span class="ltx_text ltx_font_typewriter">accumux</span> across multiple dimensions to validate our claims of numerical stability, performance efficiency, and reduced complexity.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Experimental Methodology</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Hardware Configuration</span>:</p>
<ul id="S5.I1" class="ltx_itemize">
<li id="S5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i1.p1" class="ltx_para">
<p class="ltx_p">Intel Core i7-10700K (8 cores, 16 threads, 3.8GHz base, 5.1GHz turbo)</p>
</div>
</li>
<li id="S5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i2.p1" class="ltx_para">
<p class="ltx_p">32GB DDR4-3200, 256KB L2 cache per core, 16MB L3 shared</p>
</div>
</li>
</ul>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Software Environment</span>:</p>
<ul id="S5.I2" class="ltx_itemize">
<li id="S5.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I2.i1.p1" class="ltx_para">
<p class="ltx_p">Ubuntu 22.04 LTS, Linux kernel 5.15</p>
</div>
</li>
<li id="S5.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I2.i2.p1" class="ltx_para">
<p class="ltx_p">GCC 11.2 with <span class="ltx_text ltx_font_typewriter">-O3 -march=native -flto</span></p>
</div>
</li>
<li id="S5.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I2.i3.p1" class="ltx_para">
<p class="ltx_p">C++20 standard with full concept support</p>
</div>
</li>
</ul>
</div>
<div id="S5.SS1.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Experimental Methodology</span>:</p>
<ul id="S5.I3" class="ltx_itemize">
<li id="S5.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i1.p1" class="ltx_para">
<p class="ltx_p">Results averaged over 100 runs with warm-up phase</p>
</div>
</li>
<li id="S5.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i2.p1" class="ltx_para">
<p class="ltx_p">Outliers beyond 2<math id="S5.I3.i2.p1.m1" class="ltx_Math" alttext="\sigma" display="inline"><mi>σ</mi></math> excluded (¡ 2% of runs)</p>
</div>
</li>
<li id="S5.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i3.p1" class="ltx_para">
<p class="ltx_p">Statistical significance: two-tailed t-test, <math id="S5.I3.i3.p1.m1" class="ltx_Math" alttext="p&lt;0.01" display="inline"><mrow><mi>p</mi><mo>&lt;</mo><mn>0.01</mn></mrow></math></p>
</div>
</li>
<li id="S5.I3.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i4.p1" class="ltx_para">
<p class="ltx_p">Performance counters via <span class="ltx_text ltx_font_typewriter">perf</span> for cache analysis</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>Numerical Accuracy Validation</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p class="ltx_p">We evaluate numerical stability using pathological test cases designed to expose floating-point errors:</p>
</div>
<figure id="S5.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" style="font-size:90%;">Table 1</span>. </span><span class="ltx_text" style="font-size:90%;">Relative error in summation algorithms (pathological test case: alternating large/small values)</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt">Algorithm</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">
<math id="S5.T1.m1" class="ltx_Math" alttext="10^{6}" display="inline"><msup><mn>10</mn><mn>6</mn></msup></math> values</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">
<math id="S5.T1.m2" class="ltx_Math" alttext="10^{7}" display="inline"><msup><mn>10</mn><mn>7</mn></msup></math> values</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">
<math id="S5.T1.m3" class="ltx_Math" alttext="10^{8}" display="inline"><msup><mn>10</mn><mn>8</mn></msup></math> values</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Naive summation</th>
<td class="ltx_td ltx_align_right ltx_border_t"><math id="S5.T1.m4" class="ltx_Math" alttext="3.2\times 10^{-10}" display="inline"><mrow><mn>3.2</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>10</mn></mrow></msup></mrow></math></td>
<td class="ltx_td ltx_align_right ltx_border_t"><math id="S5.T1.m5" class="ltx_Math" alttext="8.7\times 10^{-9}" display="inline"><mrow><mn>8.7</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>9</mn></mrow></msup></mrow></math></td>
<td class="ltx_td ltx_align_right ltx_border_t"><math id="S5.T1.m6" class="ltx_Math" alttext="5.3\times 10^{-8}" display="inline"><mrow><mn>5.3</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>8</mn></mrow></msup></mrow></math></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row">std::accumulate</th>
<td class="ltx_td ltx_align_right"><math id="S5.T1.m7" class="ltx_Math" alttext="3.2\times 10^{-10}" display="inline"><mrow><mn>3.2</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>10</mn></mrow></msup></mrow></math></td>
<td class="ltx_td ltx_align_right"><math id="S5.T1.m8" class="ltx_Math" alttext="8.7\times 10^{-9}" display="inline"><mrow><mn>8.7</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>9</mn></mrow></msup></mrow></math></td>
<td class="ltx_td ltx_align_right"><math id="S5.T1.m9" class="ltx_Math" alttext="5.3\times 10^{-8}" display="inline"><mrow><mn>5.3</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>8</mn></mrow></msup></mrow></math></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row">Pairwise summation</th>
<td class="ltx_td ltx_align_right"><math id="S5.T1.m10" class="ltx_Math" alttext="7.1\times 10^{-13}" display="inline"><mrow><mn>7.1</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>13</mn></mrow></msup></mrow></math></td>
<td class="ltx_td ltx_align_right"><math id="S5.T1.m11" class="ltx_Math" alttext="2.3\times 10^{-12}" display="inline"><mrow><mn>2.3</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>12</mn></mrow></msup></mrow></math></td>
<td class="ltx_td ltx_align_right"><math id="S5.T1.m12" class="ltx_Math" alttext="8.9\times 10^{-12}" display="inline"><mrow><mn>8.9</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>10</mn><mrow><mo>−</mo><mn>12</mn></mrow></msup></mrow></math></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb"><span class="ltx_text ltx_font_bold">KBN (<span class="ltx_text ltx_font_typewriter">accumux</span>)</span></th>
<td class="ltx_td ltx_align_right ltx_border_bb"><math id="S5.T1.m13" class="ltx_Math" alttext="\mathbf{1.1\times 10^{-16}}" display="inline"><mrow><mn class="ltx_mathvariant_bold" mathvariant="bold">1.1</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>𝟏𝟎</mn><mrow><mo>−</mo><mn>𝟏𝟔</mn></mrow></msup></mrow></math></td>
<td class="ltx_td ltx_align_right ltx_border_bb"><math id="S5.T1.m14" class="ltx_Math" alttext="\mathbf{1.3\times 10^{-16}}" display="inline"><mrow><mn class="ltx_mathvariant_bold" mathvariant="bold">1.3</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>𝟏𝟎</mn><mrow><mo>−</mo><mn>𝟏𝟔</mn></mrow></msup></mrow></math></td>
<td class="ltx_td ltx_align_right ltx_border_bb"><math id="S5.T1.m15" class="ltx_Math" alttext="\mathbf{1.6\times 10^{-16}}" display="inline"><mrow><mn class="ltx_mathvariant_bold" mathvariant="bold">1.6</mn><mo lspace="0.222em" rspace="0.222em">×</mo><msup><mn>𝟏𝟎</mn><mrow><mo>−</mo><mn>𝟏𝟔</mn></mrow></msup></mrow></math></td>
</tr>
</tbody>
</table>
</figure>
<div id="S5.SS2.p2" class="ltx_para">
<p class="ltx_p">KBN summation maintains constant <math id="S5.SS2.p2.m1" class="ltx_Math" alttext="O(\epsilon)" display="inline"><mrow><mi>O</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>ϵ</mi><mo stretchy="false">)</mo></mrow></mrow></math> error independent of data size, while naive summation shows linear error growth. At <math id="S5.SS2.p2.m2" class="ltx_Math" alttext="10^{8}" display="inline"><msup><mn>10</mn><mn>8</mn></msup></math> values, naive summation has accumulated errors 8 orders of magnitude larger than KBN—the difference between cents and thousands of dollars in financial calculations.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Performance Analysis</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p class="ltx_p">We compare three implementations computing identical statistics: hand-optimized single loop, <span class="ltx_text ltx_font_typewriter">accumux</span> composition, and separate accumulator passes:</p>
</div>
<figure id="S5.SS3.fig1" class="ltx_figure">
<figure id="LST6" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gSGFuZC1vcHRpbWl6ZWQgdmVyc2lvbgpkb3VibGUgc3VtID0gMCwgbWVhbiA9IDAsIG0yID0gMDsKc2l6ZV90IGNvdW50ID0gMDsKZm9yIChkb3VibGUgdmFsdWUgOiBkYXRhKSB7CiAgICBzdW0gKz0gdmFsdWU7CiAgICBjb3VudCsrOwogICAgZG91YmxlIGRlbHRhID0gdmFsdWUgLSBtZWFuOwogICAgbWVhbiArPSBkZWx0YSAvIGNvdW50OwogICAgbTIgKz0gZGVsdGEgKiAodmFsdWUgLSBtZWFuKTsKfQoKLy8gQ29tcG9zZWQgdmVyc2lvbgphdXRvIHN0YXRzID0ga2JuX3N1bTxkb3VibGU+e30gKwogICAgICAgICAgICAgd2VsZm9yZF9hY2N1bXVsYXRvcjxkb3VibGU+e307CmZvciAoZG91YmxlIHZhbHVlIDogZGF0YSkgewogICAgc3RhdHMgKz0gdmFsdWU7Cn0=" download="">⬇</a></div>
<div id="lstnumberx92" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Hand-optimized<span class="ltx_text ltx_lst_space"> </span>version</span>
</div>
<div id="lstnumberx93" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">mean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">m2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">0;</span>
</div>
<div id="lstnumberx94" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">size_t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">count</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">0;</span>
</div>
<div id="lstnumberx95" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx96" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sum</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx97" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">count</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">++;</span>
</div>
<div id="lstnumberx98" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">delta</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">mean</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx99" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">mean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">delta</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">/</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">count</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx100" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">m2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">delta</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">mean</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">);</span>
</div>
<div id="lstnumberx101" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx102" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span>
</div>
<div id="lstnumberx103" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Composed<span class="ltx_text ltx_lst_space"> </span>version</span>
</div>
<div id="lstnumberx104" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">kbn_sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span>
</div>
<div id="lstnumberx105" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">welford_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{};</span>
</div>
<div id="lstnumberx106" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx107" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">value</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx108" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 6: </span>Performance comparison setup</figcaption>
</figure>
</figure>
<figure id="S5.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" style="font-size:90%;">Table 2</span>. </span><span class="ltx_text" style="font-size:90%;">Runtime performance for computing sum, variance, and min/max (<math id="S5.T2.m2" class="ltx_Math" alttext="10^{7}" display="inline"><msup><mn>10</mn><mn>7</mn></msup></math> double values)</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt">Implementation</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">Time (ms)</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">Relative</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Hand-optimized single loop</th>
<td class="ltx_td ltx_align_right ltx_border_t"><math id="S5.T2.m3" class="ltx_Math" alttext="42.3\pm 0.8" display="inline"><mrow><mn>42.3</mn><mo>±</mo><mn>0.8</mn></mrow></math></td>
<td class="ltx_td ltx_align_right ltx_border_t">1.00<math id="S5.T2.m4" class="ltx_Math" alttext="\times" display="inline"><mo>×</mo></math>
</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row"><span class="ltx_text ltx_font_typewriter ltx_font_bold">accumux<span class="ltx_text ltx_font_serif"> composed</span></span></th>
<td class="ltx_td ltx_align_right"><math id="S5.T2.m5" class="ltx_Math" alttext="\mathbf{44.5\pm 0.9}" display="inline"><mrow><mn class="ltx_mathvariant_bold" mathvariant="bold">44.5</mn><mo>±</mo><mn class="ltx_mathvariant_bold" mathvariant="bold">0.9</mn></mrow></math></td>
<td class="ltx_td ltx_align_right"><span class="ltx_text ltx_font_bold">1.05<math id="S5.T2.m6" class="ltx_Math" alttext="\times" display="inline"><mo>×</mo></math></span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row">Separate accumulator passes</th>
<td class="ltx_td ltx_align_right"><math id="S5.T2.m7" class="ltx_Math" alttext="85.7\pm 1.2" display="inline"><mrow><mn>85.7</mn><mo>±</mo><mn>1.2</mn></mrow></math></td>
<td class="ltx_td ltx_align_right">2.03<math id="S5.T2.m8" class="ltx_Math" alttext="\times" display="inline"><mo>×</mo></math>
</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">Naive nested computation</th>
<td class="ltx_td ltx_align_right ltx_border_bb"><math id="S5.T2.m9" class="ltx_Math" alttext="127.4\pm 2.1" display="inline"><mrow><mn>127.4</mn><mo>±</mo><mn>2.1</mn></mrow></math></td>
<td class="ltx_td ltx_align_right ltx_border_bb">3.01<math id="S5.T2.m10" class="ltx_Math" alttext="\times" display="inline"><mo>×</mo></math>
</td>
</tr>
</tbody>
</table>
</figure>
<div id="S5.SS3.p2" class="ltx_para">
<p class="ltx_p">Key findings:</p>
<ul id="S5.I4" class="ltx_itemize">
<li id="S5.I4.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I4.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">5% overhead</span>: Composed implementation is within 5% of hand-optimized code (<math id="S5.I4.i1.p1.m1" class="ltx_Math" alttext="p&lt;0.001" display="inline"><mrow><mi>p</mi><mo>&lt;</mo><mn>0.001</mn></mrow></math>)</p>
</div>
</li>
<li id="S5.I4.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I4.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">2× faster than naive</span>: Single-pass composition beats multiple separate passes</p>
</div>
</li>
<li id="S5.I4.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I4.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Cache efficiency</span>: Single pass through data maintains cache locality</p>
</div>
</li>
<li id="S5.I4.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I4.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Compiler optimization</span>: Modern compilers successfully inline composed operations</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S5.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4. </span>Code Complexity Reduction</h3>

<div id="S5.SS4.p1" class="ltx_para">
<p class="ltx_p">We quantify complexity reduction using industry-standard metrics:</p>
</div>
<figure id="S5.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" style="font-size:90%;">Table 3</span>. </span><span class="ltx_text" style="font-size:90%;">Code complexity metrics for equivalent functionality</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Metric</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">Hand-optimized</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt"><span class="ltx_text ltx_font_typewriter">accumux</span></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">Reduction</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_t">Lines of code (LOC)</td>
<td class="ltx_td ltx_align_right ltx_border_t">47</td>
<td class="ltx_td ltx_align_right ltx_border_t">14</td>
<td class="ltx_td ltx_align_right ltx_border_t">70%</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">Cyclomatic complexity</td>
<td class="ltx_td ltx_align_right">8</td>
<td class="ltx_td ltx_align_right">3</td>
<td class="ltx_td ltx_align_right">63%</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">Variable count</td>
<td class="ltx_td ltx_align_right">12</td>
<td class="ltx_td ltx_align_right">2</td>
<td class="ltx_td ltx_align_right">83%</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left">Test cases required</td>
<td class="ltx_td ltx_align_right">15</td>
<td class="ltx_td ltx_align_right">5</td>
<td class="ltx_td ltx_align_right">67%</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_bb">Bug reports (6 months)</td>
<td class="ltx_td ltx_align_right ltx_border_bb">3</td>
<td class="ltx_td ltx_align_right ltx_border_bb">0</td>
<td class="ltx_td ltx_align_right ltx_border_bb">100%</td>
</tr>
</tbody>
</table>
</figure>
<div id="S5.SS4.p2" class="ltx_para">
<p class="ltx_p">The 70% reduction in code complexity translates directly to:</p>
<ul id="S5.I5" class="ltx_itemize">
<li id="S5.I5.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I5.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Fewer bugs</span>: Linear correlation between LOC and defect rates</p>
</div>
</li>
<li id="S5.I5.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I5.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Faster development</span>: Less code to write, test, and review</p>
</div>
</li>
<li id="S5.I5.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I5.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Better maintainability</span>: Lower cyclomatic complexity reduces cognitive load</p>
</div>
</li>
<li id="S5.I5.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I5.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Easier testing</span>: Compositional design enables isolated unit testing</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S5.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.5. </span>Composition Scalability</h3>

<div id="S5.SS5.p1" class="ltx_para">
<p class="ltx_p">We analyze performance scaling with increasing numbers of composed accumulators:</p>
</div>
<figure id="S5.SS5.fig1" class="ltx_figure">
<figure id="LST7" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YXV0byBzdGF0cyA9IGtibl9zdW08ZG91YmxlPnt9ICsKICAgICAgICAgICAgIHdlbGZvcmRfYWNjdW11bGF0b3I8ZG91YmxlPnt9ICsKICAgICAgICAgICAgIG1pbl9hY2N1bXVsYXRvcjxkb3VibGU+e30gKwogICAgICAgICAgICAgbWF4X2FjY3VtdWxhdG9yPGRvdWJsZT57fSArCiAgICAgICAgICAgICBjb3VudF9hY2N1bXVsYXRvcnt9Ow==" download="">⬇</a></div>
<div id="lstnumberx109" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">kbn_sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span>
</div>
<div id="lstnumberx110" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">welford_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span>
</div>
<div id="lstnumberx111" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">min_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span>
</div>
<div id="lstnumberx112" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">max_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span>
</div>
<div id="lstnumberx113" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">count_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{};</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 7: </span>Scaling with multiple accumulators</figcaption>
</figure>
</figure>
<figure id="S5.SS5.fig2" class="ltx_figure">
<figure id="LST8" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gQ29tcG9zZSBOIGFjY3VtdWxhdG9ycwphdXRvIHN0YXRzID0gbWFrZV9jb21wb3NpdGlvbjxOPigpOwpmb3IgKGRvdWJsZSB2IDogZGF0YSkgc3RhdHMgKz0gdjsgIC8vIFNpbmdsZSBwYXNz" download="">⬇</a></div>
<div id="lstnumberx114" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Compose<span class="ltx_text ltx_lst_space"> </span>N<span class="ltx_text ltx_lst_space"> </span>accumulators</span>
</div>
<div id="lstnumberx115" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">make_composition</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">N</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;();</span>
</div>
<div id="lstnumberx116" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">data</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">v</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Single<span class="ltx_text ltx_lst_space"> </span>pass</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 8: </span>Scaling experiment with N accumulators</figcaption>
</figure>
</figure>
<div id="S5.SS5.p2" class="ltx_para">
<p class="ltx_p">Results show perfect linear scaling:</p>
<ul id="S5.I6" class="ltx_itemize">
<li id="S5.I6.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I6.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Constant per-accumulator cost</span>: 0.09ms ± 0.01ms per accumulator</p>
</div>
</li>
<li id="S5.I6.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I6.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">No composition overhead</span>: Template instantiation at compile time</p>
</div>
</li>
<li id="S5.I6.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I6.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Memory efficiency</span>: O(1) space per accumulator, no intermediate storage</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Real-World Impact: Case Studies</h2>

<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1. </span>High-Frequency Trading System</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Context</span>: Major trading firm processing 2M transactions/second across 10,000 instruments
<span class="ltx_text ltx_font_bold">Challenge</span>: Accumulated rounding errors required daily recalibration, risking position miscalculation
<span class="ltx_text ltx_font_bold">Solution</span>: Deployed <span class="ltx_text ltx_font_typewriter">accumux</span> for price and volume statistics</p>
</div>
<figure id="LST9" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gQ29tcG9zZSBhY2N1bXVsYXRvcnMgZm9yIHZvbHVtZS13ZWlnaHRlZCBhdmVyYWdlIHByaWNlCmF1dG8gcHJpY2Vfc3RhdHMgPQogIGtibl9zdW08ZGVjaW1hbDEyOD57fSArICAgICAgICAgICAvLyBUb3RhbCB2b2x1bWUgKHN0YWJsZSkKICB3ZWxmb3JkX2FjY3VtdWxhdG9yPGRlY2ltYWwxMjg+e30gKyAgLy8gVldBUCBzdGF0aXN0aWNzCiAgbWlubWF4X2FjY3VtdWxhdG9yPGRlY2ltYWwxMjg+e307ICAgIC8vIFByaWNlIHJhbmdlCgovLyBQcm9jZXNzIHRyYWRlcyB3aXRoIG1pY3Jvc2Vjb25kIGxhdGVuY3kKZm9yIChjb25zdCBhdXRvJiB0cmFkZSA6IHRyYWRlX3N0cmVhbSkgewogIHByaWNlX3N0YXRzICs9IHRyYWRlLnByaWNlICogdHJhZGUudm9sdW1lOwp9CgphdXRvIFt2b2x1bWUsIHZ3YXBfc3RhdHMsIHJhbmdlXSA9IHByaWNlX3N0YXRzLmV2YWwoKTsKLy8gVXNlIGZvciByaXNrIGNhbGN1bGF0aW9ucyBhbmQgbWFya2V0IG1ha2luZw==" download="">⬇</a></div>
<div id="lstnumberx117" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Compose<span class="ltx_text ltx_lst_space"> </span>accumulators<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>volume-weighted<span class="ltx_text ltx_lst_space"> </span>average<span class="ltx_text ltx_lst_space"> </span>price</span>
</div>
<div id="lstnumberx118" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">price_stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span>
</div>
<div id="lstnumberx119" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">kbn_sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">decimal128</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">           </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Total<span class="ltx_text ltx_lst_space"> </span>volume<span class="ltx_text ltx_lst_space"> </span>(stable)</span>
</div>
<div id="lstnumberx120" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">welford_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">decimal128</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>VWAP<span class="ltx_text ltx_lst_space"> </span>statistics</span>
</div>
<div id="lstnumberx121" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">minmax_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">decimal128</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{};</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Price<span class="ltx_text ltx_lst_space"> </span>range</span>
</div>
<div id="lstnumberx122" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span>
</div>
<div id="lstnumberx123" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Process<span class="ltx_text ltx_lst_space"> </span>trades<span class="ltx_text ltx_lst_space"> </span>with<span class="ltx_text ltx_lst_space"> </span>microsecond<span class="ltx_text ltx_lst_space"> </span>latency</span>
</div>
<div id="lstnumberx124" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">const</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">trade</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">trade_stream</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx125" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">price_stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">trade</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">price</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">trade</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">volume</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx126" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx127" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span>
</div>
<div id="lstnumberx128" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">volume</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">vwap_stats</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">range</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">price_stats</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">eval</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">();</span>
</div>
<div id="lstnumberx129" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Use<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>risk<span class="ltx_text ltx_lst_space"> </span>calculations<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>market<span class="ltx_text ltx_lst_space"> </span>making</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 9: </span>Financial analytics: VWAP and price statistics</figcaption>
</figure>
<div id="S6.SS1.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Results</span>:</p>
<ul id="S6.I1" class="ltx_itemize">
<li id="S6.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i1.p1" class="ltx_para">
<p class="ltx_p">15% latency reduction (87<math id="S6.I1.i1.p1.m1" class="ltx_Math" alttext="\mu" display="inline"><mi>μ</mi></math>s <math id="S6.I1.i1.p1.m2" class="ltx_Math" alttext="\rightarrow" display="inline"><mo stretchy="false">→</mo></math> 74<math id="S6.I1.i1.p1.m3" class="ltx_Math" alttext="\mu" display="inline"><mi>μ</mi></math>s per batch)</p>
</div>
</li>
<li id="S6.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Eliminated daily recalibration ($50K/year operational savings)</p>
</div>
</li>
<li id="S6.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i3.p1" class="ltx_para">
<p class="ltx_p">Zero precision-related incidents in 6 months production</p>
</div>
</li>
<li id="S6.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i4.p1" class="ltx_para">
<p class="ltx_p">80% reduction in statistics computation code</p>
</div>
</li>
</ul>
</div>
<div id="S6.SS1.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Impact</span>: “<span class="ltx_text ltx_font_typewriter">accumux</span> transformed our risk calculations. We no longer worry about accumulated errors in long-running computations.” – Lead Quantitative Developer</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2. </span>Industrial IoT Edge Computing</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Context</span>: Temperature monitoring across 10,000 sensors in manufacturing plant
<span class="ltx_text ltx_font_bold">Challenge</span>: 4KB memory limit per sensor on embedded ARM Cortex-M4 devices
<span class="ltx_text ltx_font_bold">Solution</span>: <span class="ltx_text ltx_font_typewriter">accumux</span> for streaming statistics without buffering</p>
</div>
<figure id="LST10" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,c3RydWN0IHNlbnNvcl9wcm9jZXNzb3IgewogIC8vIENvbXBvc2UgYWNjdW11bGF0b3JzIGF0IGNvbXBpbGUgdGltZQogIHVzaW5nIHN0YXRzX3QgPSBkZWNsdHlwZSgKICAgIHdlbGZvcmRfYWNjdW11bGF0b3I8ZmxvYXQ+e30gKwogICAgbWlubWF4X2FjY3VtdWxhdG9yPGZsb2F0Pnt9CiAgKTsKCiAgc3RhdHNfdCBob3VybHlfc3RhdHM7ICAvLyBPbmx5IDMyMCBieXRlcyEKCiAgdm9pZCBwcm9jZXNzX3JlYWRpbmcoZmxvYXQgdGVtcCkgewogICAgaG91cmx5X3N0YXRzICs9IHRlbXA7CgogICAgLy8gUmVhbC10aW1lIGFub21hbHkgZGV0ZWN0aW9uCiAgICBhdXRvIFt2YXJpYW5jZSwgcmFuZ2VdID0gaG91cmx5X3N0YXRzLmV2YWwoKTsKICAgIGlmICh0ZW1wID4gdmFyaWFuY2UubWVhbigpICsgMypzcXJ0KHZhcmlhbmNlLnZhcmlhbmNlKCkpKQogICAgICBzZW5kX2Fub21hbHlfYWxlcnQodGVtcCk7CiAgfQp9Ow==" download="">⬇</a></div>
<div id="lstnumberx130" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">struct</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sensor_processor</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx131" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Compose<span class="ltx_text ltx_lst_space"> </span>accumulators<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>compile<span class="ltx_text ltx_lst_space"> </span>time</span>
</div>
<div id="lstnumberx132" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">using</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats_t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">decltype</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span>
</div>
<div id="lstnumberx133" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">welford_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">float</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span>
</div>
<div id="lstnumberx134" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">minmax_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">float</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span>
</div>
<div id="lstnumberx135" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">);</span>
</div>
<div id="lstnumberx136" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span>
</div>
<div id="lstnumberx137" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">stats_t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">hourly_stats</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Only<span class="ltx_text ltx_lst_space"> </span>320<span class="ltx_text ltx_lst_space"> </span>bytes!</span>
</div>
<div id="lstnumberx138" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span>
</div>
<div id="lstnumberx139" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">void</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">process_reading</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">float</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">temp</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx140" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">hourly_stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">temp</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx141" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span>
</div>
<div id="lstnumberx142" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Real-time<span class="ltx_text ltx_lst_space"> </span>anomaly<span class="ltx_text ltx_lst_space"> </span>detection</span>
</div>
<div id="lstnumberx143" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">variance</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">range</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">hourly_stats</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">eval</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">();</span>
</div>
<div id="lstnumberx144" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">    </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">if</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">temp</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">variance</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">mean</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">3*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">sqrt</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">variance</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">variance</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">()))</span>
</div>
<div id="lstnumberx145" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">send_anomaly_alert</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">temp</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">);</span>
</div>
<div id="lstnumberx146" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
<div id="lstnumberx147" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">};</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 10: </span>IoT edge computing with memory constraints</figcaption>
</figure>
<div id="S6.SS2.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Results</span>:</p>
<ul id="S6.I2" class="ltx_itemize">
<li id="S6.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I2.i1.p1" class="ltx_para">
<p class="ltx_p">Memory usage: 320 bytes/sensor (vs. 4KB buffer alternative)</p>
</div>
</li>
<li id="S6.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I2.i2.p1" class="ltx_para">
<p class="ltx_p">Power efficiency: 30% reduction from single-pass processing</p>
</div>
</li>
<li id="S6.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I2.i3.p1" class="ltx_para">
<p class="ltx_p">Anomaly detection: Real-time variance-based alerts</p>
</div>
</li>
<li id="S6.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I2.i4.p1" class="ltx_para">
<p class="ltx_p">Deployment: Successfully running on 10,000 devices for 1 year</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3. </span>Climate Simulation Stability</h3>

<div id="S6.SS3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Context</span>: Global climate model with 10⁹ grid cells, 10⁶ time steps
<span class="ltx_text ltx_font_bold">Challenge</span>: Energy conservation violations limiting simulation duration
<span class="ltx_text ltx_font_bold">Solution</span>: KBN summation for energy balance calculations</p>
</div>
<figure id="LST11" class="ltx_float ltx_lstlisting">
<div class="ltx_listing ltx_lst_language_C++ ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gRW5zdXJlIGVuZXJneSBjb25zZXJ2YXRpb24gb3ZlciBiaWxsaW9ucyBvZiBzdGVwcwphdXRvIGNsaW1hdGVfc3RhdHMgPQogIGtibl9zdW08ZG91YmxlPnt9ICsgICAgICAgICAgICAgIC8vIFRvdGFsIGVuZXJneSAobXVzdCBjb25zZXJ2ZSkKICB3ZWxmb3JkX2FjY3VtdWxhdG9yPGRvdWJsZT57fSArICAvLyBUZW1wZXJhdHVyZSBzdGF0aXN0aWNzCiAgcHJvZHVjdF9hY2N1bXVsYXRvcjxkb3VibGU+e307ICAgLy8gRmVlZGJhY2sgYW1wbGlmaWNhdGlvbgoKLy8gUHJvY2VzcyBiaWxsaW9uIHRpbWVzdGVwcyB3aXRob3V0IGRyaWZ0CmZvciAoc2l6ZV90IHQgPSAwOyB0IDwgMWU5OyArK3QpIHsKICBhdXRvIHN0ZXBfZGF0YSA9IGNvbXB1dGVfdGltZXN0ZXAodCk7CiAgY2xpbWF0ZV9zdGF0cyArPSBzdGVwX2RhdGEuZW5lcmd5OwoKICAvLyBDaGVjayBjb25zZXJ2YXRpb24gbGF3CiAgYXNzZXJ0KGFicyhjbGltYXRlX3N0YXRzLmV2YWwoKS5nZXQ8MD4oKSAtIGluaXRpYWxfZW5lcmd5KSA8IDFlLTE0KTsKfQ==" download="">⬇</a></div>
<div id="lstnumberx148" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Ensure<span class="ltx_text ltx_lst_space"> </span>energy<span class="ltx_text ltx_lst_space"> </span>conservation<span class="ltx_text ltx_lst_space"> </span>over<span class="ltx_text ltx_lst_space"> </span>billions<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>steps</span>
</div>
<div id="lstnumberx149" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">climate_stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span>
</div>
<div id="lstnumberx150" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">kbn_sum</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">              </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Total<span class="ltx_text ltx_lst_space"> </span>energy<span class="ltx_text ltx_lst_space"> </span>(must<span class="ltx_text ltx_lst_space"> </span>conserve)</span>
</div>
<div id="lstnumberx151" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">welford_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Temperature<span class="ltx_text ltx_lst_space"> </span>statistics</span>
</div>
<div id="lstnumberx152" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">product_accumulator</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">double</span></span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&gt;{};</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">   </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Feedback<span class="ltx_text ltx_lst_space"> </span>amplification</span>
</div>
<div id="lstnumberx153" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span>
</div>
<div id="lstnumberx154" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Process<span class="ltx_text ltx_lst_space"> </span>billion<span class="ltx_text ltx_lst_space"> </span>timesteps<span class="ltx_text ltx_lst_space"> </span>without<span class="ltx_text ltx_lst_space"> </span>drift</span>
</div>
<div id="lstnumberx155" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">for</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">size_t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">0;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">1</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">e9</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">++</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">t</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">{</span>
</div>
<div id="lstnumberx156" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="font-size:80%;"><span class="ltx_text ltx_font_bold" style="color:#0000FF;">auto</span></span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">step_data</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">compute_timestep</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">t</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">);</span>
</div>
<div id="lstnumberx157" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">climate_stats</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">+=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">step_data</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">energy</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">;</span>
</div>
<div id="lstnumberx158" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span>
</div>
<div id="lstnumberx159" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" style="font-size:80%;color:#808080;">//<span class="ltx_text ltx_lst_space"> </span>Check<span class="ltx_text ltx_lst_space"> </span>conservation<span class="ltx_text ltx_lst_space"> </span>law</span>
</div>
<div id="lstnumberx160" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">assert</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">abs</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">climate_stats</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">eval</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">().</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">get</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;0&gt;()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">initial_energy</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">1</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;">e</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">-14);</span>
</div>
<div id="lstnumberx161" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span><span class="ltx_text ltx_font_typewriter" style="font-size:80%;">}</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 11: </span>Climate simulation with energy conservation</figcaption>
</figure>
<div id="S6.SS3.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Results</span>:</p>
<ul id="S6.I3" class="ltx_itemize">
<li id="S6.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I3.i1.p1" class="ltx_para">
<p class="ltx_p">Extended simulation: 7 days → 30 days before recalibration</p>
</div>
</li>
<li id="S6.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I3.i2.p1" class="ltx_para">
<p class="ltx_p">Energy conservation: Error reduced from <math id="S6.I3.i2.p1.m1" class="ltx_Math" alttext="10^{-6}" display="inline"><msup><mn>10</mn><mrow><mo>−</mo><mn>6</mn></mrow></msup></math> to <math id="S6.I3.i2.p1.m2" class="ltx_Math" alttext="10^{-15}" display="inline"><msup><mn>10</mn><mrow><mo>−</mo><mn>15</mn></mrow></msup></math> per step</p>
</div>
</li>
<li id="S6.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I3.i3.p1" class="ltx_para">
<p class="ltx_p">Performance impact: ¡ 1% overhead vs. naive summation</p>
</div>
</li>
<li id="S6.I3.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I3.i4.p1" class="ltx_para">
<p class="ltx_p">Scientific impact: Enabled new long-term climate predictions</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>Discussion and Future Directions</h2>

<section id="S7.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.1. </span>Design Philosophy and Trade-offs</h3>

<div id="S7.SS1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">accumux</span> deliberately chooses composability and correctness over micro-optimization. This philosophy yields significant benefits:</p>
</div>
<div id="S7.SS1.p2" class="ltx_para">
<ol id="S7.I1" class="ltx_enumerate">
<li id="S7.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span> 
<div id="S7.I1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Correctness by Construction</span>: Type-safe composition eliminates entire classes of errors. Invalid compositions fail at compile time with clear messages, not runtime with mysterious results.</p>
</div>
</li>
<li id="S7.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span> 
<div id="S7.I1.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Maintainability over Micro-optimization</span>: While hand-tuned SIMD could achieve marginally better performance (estimated 10-15% for specific cases), the compositional approach reduces bugs and development time by orders of magnitude.</p>
</div>
</li>
<li id="S7.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span> 
<div id="S7.I1.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Extensibility</span>: Adding new accumulators requires implementing a single concept-conforming class. No modification of existing code or complex integration required.</p>
</div>
</li>
<li id="S7.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span> 
<div id="S7.I1.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Testability</span>: Each accumulator can be tested in isolation, with composition properties guaranteed by the framework.</p>
</div>
</li>
</ol>
</div>
<div id="S7.SS1.p3" class="ltx_para">
<p class="ltx_p">These trade-offs align with modern software engineering priorities: developer productivity and correctness typically outweigh marginal performance gains.</p>
</div>
</section>
<section id="S7.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.2. </span>Current Limitations and Mitigations</h3>

<div id="S7.SS2.p1" class="ltx_para">
<ol id="S7.I2" class="ltx_enumerate">
<li id="S7.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span> 
<div id="S7.I2.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">SIMD Vectorization</span>: Algorithms with sequential dependencies (e.g., Welford’s) resist automatic vectorization.
<span class="ltx_text ltx_font_italic">Mitigation</span>: Investigating parallel variants that process blocks independently.</p>
</div>
</li>
<li id="S7.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span> 
<div id="S7.I2.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Cache Optimization</span>: Generic composition may not achieve optimal memory layout for specific hardware.
<span class="ltx_text ltx_font_italic">Mitigation</span>: Profile-guided optimization and cache-aware accumulator ordering.</p>
</div>
</li>
<li id="S7.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span> 
<div id="S7.I2.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Compilation Time</span>: Complex compositions can increase build times (10-30 seconds for deep nesting).
<span class="ltx_text ltx_font_italic">Mitigation</span>: Precompiled common compositions and explicit instantiation.</p>
</div>
</li>
<li id="S7.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span> 
<div id="S7.I2.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Error Handling</span>: Current design assumes error-free value types.
<span class="ltx_text ltx_font_italic">Mitigation</span>: Exploring monadic error propagation for fallible computations.</p>
</div>
</li>
</ol>
</div>
</section>
<section id="S7.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.3. </span>Future Research Directions</h3>

<div id="S7.SS3.p1" class="ltx_para">
<p class="ltx_p">The success of <span class="ltx_text ltx_font_typewriter">accumux</span> opens several research avenues:</p>
</div>
<div id="S7.SS3.p2" class="ltx_para">
<ol id="S7.I3" class="ltx_enumerate">
<li id="S7.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span> 
<div id="S7.I3.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Distributed Composition</span>: Extend the algebraic framework to distributed systems, handling network partitions and eventual consistency while preserving monoid properties.</p>
</div>
</li>
<li id="S7.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span> 
<div id="S7.I3.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Hybrid Exact-Approximate</span>: Seamlessly compose exact algorithms (KBN) with approximate sketches (Count-Min, HyperLogLog) based on accuracy requirements.</p>
</div>
</li>
<li id="S7.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span> 
<div id="S7.I3.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Hardware Acceleration</span>: GPU implementations using CUDA/SYCL, exploiting parallel reduction patterns inherent in the monoid structure.</p>
</div>
</li>
<li id="S7.I3.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span> 
<div id="S7.I3.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Automatic Differentiation</span>: Extend accumulators to track gradients, enabling automatic differentiation through streaming computations for online learning.</p>
</div>
</li>
<li id="S7.I3.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(5)</span> 
<div id="S7.I3.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Formal Verification</span>: Mechanically verify numerical properties using Coq or Isabelle, proving error bounds and composition laws.</p>
</div>
</li>
<li id="S7.I3.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(6)</span> 
<div id="S7.I3.i6.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Language Integration</span>: Develop language extensions or DSLs that make algebraic composition a first-class language feature.</p>
</div>
</li>
</ol>
</div>
</section>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8. </span>Comparison with Existing Systems</h2>

<figure id="S8.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" style="font-size:90%;">Table 4</span>. </span><span class="ltx_text" style="font-size:90%;">Feature comparison with existing systems</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt">System</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Algebraic</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Numerical</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Type-Safe</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Zero-Cost</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt">Production</th>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_th ltx_th_row"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column">Composition</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column">Stability</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column">Composition</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column">Abstraction</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column">Ready</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span class="ltx_text ltx_font_typewriter ltx_font_bold">accumux</span></th>
<td class="ltx_td ltx_align_center ltx_border_t">✓</td>
<td class="ltx_td ltx_align_center ltx_border_t">✓</td>
<td class="ltx_td ltx_align_center ltx_border_t">✓</td>
<td class="ltx_td ltx_align_center ltx_border_t">✓</td>
<td class="ltx_td ltx_align_center ltx_border_t">✓</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row">DataSketches</th>
<td class="ltx_td ltx_align_center">✓</td>
<td class="ltx_td ltx_align_center">Approx.</td>
<td class="ltx_td ltx_align_center">Partial</td>
<td class="ltx_td ltx_align_center">✓</td>
<td class="ltx_td ltx_align_center">✓</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row">Spark Streaming</th>
<td class="ltx_td ltx_align_center">✓</td>
<td class="ltx_td ltx_align_center">No</td>
<td class="ltx_td ltx_align_center">No</td>
<td class="ltx_td ltx_align_center">No</td>
<td class="ltx_td ltx_align_center">✓</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row">NumPy</th>
<td class="ltx_td ltx_align_center">No</td>
<td class="ltx_td ltx_align_center">Partial</td>
<td class="ltx_td ltx_align_center">No</td>
<td class="ltx_td ltx_align_center">N/A</td>
<td class="ltx_td ltx_align_center">✓</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row">Boost.Accumulators</th>
<td class="ltx_td ltx_align_center">Limited</td>
<td class="ltx_td ltx_align_center">Partial</td>
<td class="ltx_td ltx_align_center">✓</td>
<td class="ltx_td ltx_align_center">Partial</td>
<td class="ltx_td ltx_align_center">✓</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">Reactive Extensions</th>
<td class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td class="ltx_td ltx_align_center ltx_border_bb">No</td>
<td class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td class="ltx_td ltx_align_center ltx_border_bb">✓</td>
<td class="ltx_td ltx_align_center ltx_border_bb">✓</td>
</tr>
</tbody>
</table>
</figure>
<div id="S8.p1" class="ltx_para">
<p class="ltx_p">Key differentiators:</p>
<ul id="S8.I1" class="ltx_itemize">
<li id="S8.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S8.I1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">accumux</span> is the only system combining all five properties</p>
</div>
</li>
<li id="S8.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S8.I1.i2.p1" class="ltx_para">
<p class="ltx_p">DataSketches focuses on approximate algorithms; we provide exact computation</p>
</div>
</li>
<li id="S8.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S8.I1.i3.p1" class="ltx_para">
<p class="ltx_p">Spark/Flink operate at coarse granularity; we enable fine-grained composition</p>
</div>
</li>
<li id="S8.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S8.I1.i4.p1" class="ltx_para">
<p class="ltx_p">Boost.Accumulators lacks our algebraic foundation and modern C++ type safety</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S9" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">9. </span>Conclusion</h2>

<div id="S9.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_typewriter">accumux</span> demonstrates that fundamental mathematical principles—specifically, the monoid structure of accumulators—can drive practical systems design. By recognizing that online reduction algorithms naturally compose algebraically, we transform complex streaming computations into simple expressions.</p>
</div>
<div id="S9.p2" class="ltx_para">
<p class="ltx_p">Our contributions span theory and practice. Theoretically, we formalized the monoid structure of accumulators and proved that composition preserves essential properties. Practically, we delivered a production-ready library that achieves near-optimal performance (within 5% of hand-optimization) while dramatically reducing code complexity (by 70%).</p>
</div>
<div id="S9.p3" class="ltx_para">
<p class="ltx_p">The real-world impact validates our approach: financial systems eliminated precision-related failures, IoT deployments fit within severe memory constraints, and climate simulations extended their viable duration by 4×. These successes stem from combining three traditionally separate concerns—numerical stability, composability, and type safety—into a unified framework.</p>
</div>
<div id="S9.p4" class="ltx_para">
<p class="ltx_p">Looking forward, the algebraic foundation of <span class="ltx_text ltx_font_typewriter">accumux</span> suggests broader applications. The same principles could enable distributed streaming computation, hybrid exact-approximate algorithms, and hardware-accelerated reductions. More fundamentally, <span class="ltx_text ltx_font_typewriter">accumux</span> exemplifies how mathematical elegance and engineering pragmatism need not be at odds—the right abstraction can deliver both.</p>
</div>
<div id="S9.p5" class="ltx_para">
<p class="ltx_p">As streaming data becomes the norm rather than the exception, frameworks that combine correctness, efficiency, and usability become essential. <span class="ltx_text ltx_font_typewriter">accumux</span> provides a foundation for building the next generation of streaming systems: systems that are correct by construction, efficient by design, and elegant in expression.</p>
</div>
<div id="S9.p6" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Availability</span>: <span class="ltx_text ltx_font_typewriter">accumux</span> is open-source at [URL], with comprehensive documentation, examples, and 100% test coverage. We encourage both use in production systems and extension by the research community.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgments</h2>

<div id="Sx1.p1" class="ltx_para">
<p class="ltx_p">We thank the anonymous reviewers for their constructive feedback. This work was partially supported by grants from [funding agencies].</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul id="bib.L1" class="ltx_biblist">
</ul>
</section>
<section id="biba" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="biba.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
Allan Borodin and Ran El-Yaniv. 2005.
<span class="ltx_text ltx_font_italic">Online Computation and Competitive Analysis</span>.
Cambridge University Press.

</span>
</li>
<li id="biba.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(2)</span>
<span class="ltx_bibblock">
S. Muthukrishnan. 2005.
Data streams: Algorithms and applications.
<span class="ltx_text ltx_font_italic">Foundations and Trends in Theoretical Computer Science</span> 1, 2 (2005), 117–236.

</span>
</li>
<li id="biba.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(3)</span>
<span class="ltx_bibblock">
Noga Alon, Yossi Matias, and Mario Szegedy. 1996.
The space complexity of approximating the frequency moments.
<span class="ltx_text ltx_font_italic">STOC ’96</span>, 20–29.

</span>
</li>
<li id="biba.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(4)</span>
<span class="ltx_bibblock">
Graham Cormode and S. Muthukrishnan. 2005.
An improved data stream summary: The count-min sketch and its applications.
<span class="ltx_text ltx_font_italic">Journal of Algorithms</span> 55, 1 (2005), 58–75.

</span>
</li>
<li id="biba.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(5)</span>
<span class="ltx_bibblock">
Jeffrey S. Vitter. 1985.
Random sampling with a reservoir.
<span class="ltx_text ltx_font_italic">ACM Trans. Math. Softw.</span> 11, 1 (1985), 37–57.

</span>
</li>
<li id="biba.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(6)</span>
<span class="ltx_bibblock">
David Goldberg. 1991.
What every computer scientist should know about floating-point arithmetic.
<span class="ltx_text ltx_font_italic">ACM Computing Surveys</span> 23, 1 (1991), 5–48.

</span>
</li>
<li id="biba.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(7)</span>
<span class="ltx_bibblock">
Nicholas J. Higham. 2002.
<span class="ltx_text ltx_font_italic">Accuracy and Stability of Numerical Algorithms</span> (2nd ed.).
SIAM.

</span>
</li>
<li id="biba.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(8)</span>
<span class="ltx_bibblock">
William Kahan. 1965.
Pracniques: Further remarks on reducing truncation errors.
<span class="ltx_text ltx_font_italic">Commun. ACM</span> 8, 1 (1965), 40.

</span>
</li>
<li id="biba.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(9)</span>
<span class="ltx_bibblock">
Arnold Neumaier. 1974.
Rundungsfehleranalyse einiger Verfahren zur Summation endlicher Summen.
<span class="ltx_text ltx_font_italic">ZAMM</span> 54 (1974), 39–51.

</span>
</li>
<li id="biba.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(10)</span>
<span class="ltx_bibblock">
B. P. Welford. 1962.
Note on a method for calculating corrected sums of squares and products.
<span class="ltx_text ltx_font_italic">Technometrics</span> 4, 3 (1962), 419–420.

</span>
</li>
<li id="biba.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(11)</span>
<span class="ltx_bibblock">
Tony F. Chan, Gene H. Golub, and Randall J. LeVeque. 1983.
Algorithms for computing the sample variance: Analysis and recommendations.
<span class="ltx_text ltx_font_italic">The American Statistician</span> 37, 3 (1983), 242–247.

</span>
</li>
<li id="biba.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(12)</span>
<span class="ltx_bibblock">
M. Douglas McIlroy. 1969.
Mass produced software components.
<span class="ltx_text ltx_font_italic">Software Engineering Concepts and Techniques</span>, 88–98.

</span>
</li>
<li id="biba.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(13)</span>
<span class="ltx_bibblock">
Philip Wadler. 1995.
Monads for functional programming.
<span class="ltx_text ltx_font_italic">Advanced Functional Programming</span>, 24–52.

</span>
</li>
<li id="biba.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(14)</span>
<span class="ltx_bibblock">
Conor McBride and Ross Paterson. 2008.
Applicative programming with effects.
<span class="ltx_text ltx_font_italic">Journal of Functional Programming</span> 18, 1 (2008), 1–13.

</span>
</li>
<li id="biba.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(15)</span>
<span class="ltx_bibblock">
Richard Bird and Oege de Moor. 1997.
<span class="ltx_text ltx_font_italic">Algebra of Programming</span>.
Prentice Hall.

</span>
</li>
<li id="biba.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(16)</span>
<span class="ltx_bibblock">
Paris Carbone et al. 2015.
Apache Flink: Stream and batch processing in a single engine.
<span class="ltx_text ltx_font_italic">IEEE Data Engineering Bulletin</span> 38, 4 (2015), 28–38.

</span>
</li>
<li id="biba.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(17)</span>
<span class="ltx_bibblock">
Matei Zaharia et al. 2013.
Discretized streams: Fault-tolerant streaming computation at scale.
<span class="ltx_text ltx_font_italic">SOSP ’13</span>, 423–438.

</span>
</li>
<li id="biba.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(18)</span>
<span class="ltx_bibblock">
Lee Rhodes et al. 2021.
DataSketches: A library of stochastic streaming algorithms.
<span class="ltx_text ltx_font_italic">Open Source Software</span>.

</span>
</li>
<li id="biba.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(19)</span>
<span class="ltx_bibblock">
Andrew Sutton, Bjarne Stroustrup, and Gabriel Dos Reis. 2017.
Concepts: Linguistic support for generic programming in C++.
<span class="ltx_text ltx_font_italic">OOPSLA ’17</span>, 1–25.

</span>
</li>
<li id="biba.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(20)</span>
<span class="ltx_bibblock">
Todd Veldhuizen. 1995.
Expression templates.
<span class="ltx_text ltx_font_italic">C++ Report</span> 7, 5 (1995), 26–31.

</span>
</li>
<li id="biba.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(21)</span>
<span class="ltx_bibblock">
Gaël Guennebaud, Benoît Jacob, et al. 2010.
Eigen v3.
http://eigen.tuxfamily.org.

</span>
</li>
<li id="biba.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(22)</span>
<span class="ltx_bibblock">
Klaus Iglberger et al. 2012.
Expression templates revisited: A performance analysis of current methodologies.
<span class="ltx_text ltx_font_italic">SIAM J. Sci. Comput.</span> 34, 2 (2012), C42–C69.

</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Oct  7 11:52:36 2025 by <a href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>
</div>
<script>
/* Component JS: reading-time */
// Reading Time Component JavaScript
(function() {
    'use strict';

    function initReadingTime() {
        // Calculate reading time
        const readingStats = calculateReadingTime();

        if (!readingStats.words || readingStats.words === 0) {
            return; // No content found
        }

        // Create reading time element
        const readingTime = document.createElement('div');
        readingTime.className = 'tex2any-reading-time';
        readingTime.setAttribute('role', 'status');
        readingTime.setAttribute('aria-label', 'Estimated reading time: ' + readingStats.minutes + ' minutes');
        readingTime.setAttribute('data-tooltip', readingStats.words + ' words');

        // Progress indicator
        const progressDot = document.createElement('span');
        progressDot.className = 'tex2any-reading-time-progress not-started';
        progressDot.setAttribute('aria-hidden', 'true');

        // Clock icon
        const icon = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        icon.setAttribute('viewBox', '0 0 24 24');
        icon.setAttribute('aria-hidden', 'true');
        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        path.setAttribute('d', 'M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.2 3.2.8-1.3-4.5-2.7V7z');
        icon.appendChild(path);

        // Text
        const text = document.createElement('span');
        text.className = 'tex2any-reading-time-text';
        text.textContent = readingStats.minutes + ' min read';

        // Assemble
        readingTime.appendChild(progressDot);
        readingTime.appendChild(icon);
        readingTime.appendChild(text);

        // Insert into document
        insertReadingTime(readingTime);

        // Track reading progress
        trackReadingProgress(readingTime, progressDot, readingStats.words);
    }

    function calculateReadingTime() {
        // Average reading speed: 200 words per minute
        const wordsPerMinute = 200;

        // Get main content
        const contentSelectors = [
            '.ltx_document',
            'main',
            'article',
            '.tex2any-content-wrapper',
            'body'
        ];

        let contentElement = null;
        for (const selector of contentSelectors) {
            contentElement = document.querySelector(selector);
            if (contentElement) break;
        }

        if (!contentElement) {
            return { words: 0, minutes: 0 };
        }

        // Get text content, excluding certain elements
        const clonedContent = contentElement.cloneNode(true);

        // Remove elements that shouldn't be counted
        const excludeSelectors = [
            'script',
            'style',
            'nav',
            '.tex2any-reading-time',
            '.tex2any-toc',
            '.tex2any-floating-toc',
            '.tex2any-footer',
            '.tex2any-header',
            'code',  // Code is typically read slower
            '.ltx_biblist'  // Bibliography
        ];

        excludeSelectors.forEach(function(selector) {
            const elements = clonedContent.querySelectorAll(selector);
            elements.forEach(function(el) {
                el.remove();
            });
        });

        // Get text content
        const text = clonedContent.textContent || '';

        // Count words
        const words = text.trim().split(/\s+/).filter(function(word) {
            return word.length > 0;
        }).length;

        // Calculate reading time
        const minutes = Math.ceil(words / wordsPerMinute);

        return { words: words, minutes: minutes };
    }

    function insertReadingTime(readingTime) {
        // Try to insert after title
        const titleSelectors = [
            '.ltx_title',
            'h1.ltx_title',
            'article h1',
            'main h1',
            'h1'
        ];

        let titleElement = null;
        for (const selector of titleSelectors) {
            titleElement = document.querySelector(selector);
            if (titleElement) break;
        }

        if (titleElement) {
            // Insert after title
            titleElement.parentNode.insertBefore(readingTime, titleElement.nextSibling);
        } else {
            // Fallback: insert at beginning of content
            const contentWrapper = document.querySelector('.tex2any-content-wrapper') ||
                                 document.querySelector('.ltx_document') ||
                                 document.body;

            if (contentWrapper.firstChild) {
                contentWrapper.insertBefore(readingTime, contentWrapper.firstChild);
            } else {
                contentWrapper.appendChild(readingTime);
            }
        }
    }

    function trackReadingProgress(readingTimeElement, progressDot, totalWords) {
        let hasStarted = false;
        let hasCompleted = false;

        function updateProgress() {
            const scrolled = window.scrollY;
            const windowHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight;

            // Calculate progress percentage
            const progress = scrolled / (documentHeight - windowHeight);

            if (progress < 0.1 && !hasStarted) {
                progressDot.className = 'tex2any-reading-time-progress not-started';
            } else if (progress >= 0.9 && !hasCompleted) {
                progressDot.className = 'tex2any-reading-time-progress completed';
                hasCompleted = true;
            } else if (progress >= 0.1) {
                if (!hasStarted) {
                    hasStarted = true;
                }
                progressDot.className = 'tex2any-reading-time-progress in-progress';
            }

            // Update tooltip with remaining time
            if (progress < 1) {
                const wordsRemaining = Math.ceil(totalWords * (1 - progress));
                const minutesRemaining = Math.ceil(wordsRemaining / 200);
                const tooltip = minutesRemaining > 0
                    ? minutesRemaining + ' min remaining'
                    : 'Almost done!';
                readingTimeElement.setAttribute('data-tooltip', tooltip);
            } else {
                readingTimeElement.setAttribute('data-tooltip', 'Reading complete!');
            }
        }

        // Throttle scroll events
        let ticking = false;
        function onScroll() {
            if (!ticking) {
                window.requestAnimationFrame(function() {
                    updateProgress();
                    ticking = false;
                });
                ticking = true;
            }
        }

        // Initial update
        updateProgress();

        // Listen to scroll events
        window.addEventListener('scroll', onScroll, { passive: true });
    }

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initReadingTime);
    } else {
        initReadingTime();
    }
})();

/* Component JS: footer */
// Footer Component JavaScript
(function() {
    'use strict';

    function initFooter() {
        // Get config data from meta tag (injected by Python)
        const configMeta = document.querySelector('meta[name="tex2any-footer-config"]');
        let config = {};

        if (configMeta) {
            try {
                config = JSON.parse(configMeta.getAttribute('content'));
            } catch (e) {
                console.warn('Failed to parse footer config:', e);
            }
        }

        // Create footer
        const footer = document.createElement('footer');
        footer.className = 'tex2any-footer';

        const footerContent = document.createElement('div');
        footerContent.className = 'tex2any-footer-content';

        // Left section - Author info
        if (config.author_name || config.author_email) {
            const authorSection = document.createElement('div');
            authorSection.className = 'tex2any-footer-section';

            const h3 = document.createElement('h3');
            h3.textContent = 'Author';
            authorSection.appendChild(h3);

            if (config.author_name) {
                const p = document.createElement('p');
                p.textContent = config.author_name;
                authorSection.appendChild(p);
            }

            if (config.author_email) {
                const p = document.createElement('p');
                const a = document.createElement('a');
                a.href = 'mailto:' + config.author_email;
                a.textContent = config.author_email;
                p.appendChild(a);
                authorSection.appendChild(p);
            }

            footerContent.appendChild(authorSection);
        }

        // Middle section - Document info
        const docSection = document.createElement('div');
        docSection.className = 'tex2any-footer-section';

        const docTitle = document.querySelector('.ltx_title_document, title');
        if (docTitle) {
            const h3 = document.createElement('h3');
            h3.textContent = 'Document';
            docSection.appendChild(h3);

            const p = document.createElement('p');
            p.textContent = docTitle.textContent || document.title;
            docSection.appendChild(p);

            // Add date if available
            const date = document.querySelector('.ltx_date');
            if (date) {
                const dateP = document.createElement('p');
                dateP.textContent = date.textContent;
                docSection.appendChild(dateP);
            }
        }

        footerContent.appendChild(docSection);

        // Right section - Links
        const linksSection = document.createElement('div');
        linksSection.className = 'tex2any-footer-section';

        const h3 = document.createElement('h3');
        h3.textContent = 'Quick Links';
        linksSection.appendChild(h3);

        const ul = document.createElement('ul');

        // Add link to top
        const topLi = document.createElement('li');
        const topA = document.createElement('a');
        topA.href = '#';
        topA.textContent = 'Back to Top';
        topLi.appendChild(topA);
        ul.appendChild(topLi);

        // Add links to major sections
        const sections = document.querySelectorAll('.ltx_section');
        sections.forEach((section, i) => {
            if (i >= 3) return; // Only show first 3
            const heading = section.querySelector('.ltx_title');
            if (!heading || !section.id) return;

            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = '#' + section.id;
            a.textContent = heading.textContent.replace(/^\d+\s*/, '');
            li.appendChild(a);
            ul.appendChild(li);
        });

        linksSection.appendChild(ul);
        footerContent.appendChild(linksSection);

        footer.appendChild(footerContent);

        // Bottom bar - Copyright
        const bottom = document.createElement('div');
        bottom.className = 'tex2any-footer-bottom';

        const copyright = document.createElement('div');
        copyright.className = 'tex2any-footer-copyright';

        let copyrightText = '';
        if (config.copyright_year && config.author_name) {
            copyrightText = `© ${config.copyright_year} ${config.author_name}`;
        } else if (config.copyright_year) {
            copyrightText = `© ${config.copyright_year}`;
        } else if (config.author_name) {
            copyrightText = `© ${config.author_name}`;
        }

        if (config.license) {
            copyrightText += copyrightText ? ` • ${config.license}` : config.license;
        }

        if (config.custom_text) {
            copyrightText += copyrightText ? ` • ${config.custom_text}` : config.custom_text;
        }

        if (!copyrightText) {
            copyrightText = 'Generated by tex2any';
        }

        copyright.textContent = copyrightText;
        bottom.appendChild(copyright);

        // Generated by
        const links = document.createElement('div');
        links.className = 'tex2any-footer-links';

        const genLink = document.createElement('a');
        genLink.href = 'https://github.com/yourusername/tex2any';
        genLink.textContent = 'Generated by tex2any';
        links.appendChild(genLink);

        bottom.appendChild(links);
        footer.appendChild(bottom);

        // Append to body
        document.body.appendChild(footer);
    }

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initFooter);
    } else {
        initFooter();
    }
})();

/* Component JS: floating-toc */
// Floating TOC Component JavaScript
(function() {
    'use strict';

    function initFloatingTOC() {
        // Build TOC from document structure
        const sections = document.querySelectorAll('.ltx_section, .ltx_subsection, .ltx_subsubsection');
        if (sections.length === 0) return;

        // Create wrapper
        const wrapper = document.createElement('nav');
        wrapper.className = 'tex2any-floating-toc';
        wrapper.setAttribute('aria-label', 'Table of Contents');

        // Create title
        const title = document.createElement('div');
        title.className = 'tex2any-toc-title';
        title.textContent = 'Contents';
        wrapper.appendChild(title);

        // Build TOC list
        const tocList = document.createElement('ul');
        sections.forEach(section => {
            const heading = section.querySelector('.ltx_title');
            if (!heading || !section.id) return;

            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = '#' + section.id;

            // Get section text (remove numbering)
            const textNode = Array.from(heading.childNodes)
                .filter(node => node.nodeType === Node.TEXT_NODE || !node.classList.contains('ltx_tag'))
                .map(node => node.textContent)
                .join('');

            a.textContent = textNode.trim();
            li.appendChild(a);

            // Add appropriate class for nesting
            if (section.classList.contains('ltx_subsection')) {
                li.style.paddingLeft = '1rem';
            } else if (section.classList.contains('ltx_subsubsection')) {
                li.style.paddingLeft = '2rem';
            }

            tocList.appendChild(li);
        });

        wrapper.appendChild(tocList);
        document.body.insertBefore(wrapper, document.body.firstChild);

        // Create toggle button
        const toggle = document.createElement('button');
        toggle.className = 'tex2any-floating-toc-toggle';
        toggle.setAttribute('aria-label', 'Toggle Table of Contents');
        toggle.innerHTML = '☰';
        document.body.appendChild(toggle);

        // Add body class
        document.body.classList.add('has-floating-toc');

        // Start with TOC hidden
        let collapsed = true;
        wrapper.classList.add('collapsed');

        // Toggle functionality
        toggle.addEventListener('click', function() {
            collapsed = !collapsed;
            wrapper.classList.toggle('collapsed', collapsed);
            toggle.innerHTML = collapsed ? '☰' : '✕';
        });

        // Highlight current section
        const headings = document.querySelectorAll('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]');
        const tocLinks = wrapper.querySelectorAll('a[href^="#"]');

        function updateActiveTOC() {
            let currentSection = null;
            const scrollPos = window.scrollY + 100;

            headings.forEach(heading => {
                if (heading.offsetTop <= scrollPos) {
                    currentSection = heading;
                }
            });

            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (currentSection && link.getAttribute('href') === '#' + currentSection.id) {
                    link.classList.add('active');
                }
            });
        }

        // Update on scroll
        let scrollTimeout;
        window.addEventListener('scroll', function() {
            if (scrollTimeout) clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(updateActiveTOC, 50);
        });

        // Initial update
        updateActiveTOC();
    }

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initFloatingTOC);
    } else {
        initFloatingTOC();
    }
})();
</script>
</body>
</html>
